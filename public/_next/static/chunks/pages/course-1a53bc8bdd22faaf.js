(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{58951:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(63366),i=n(87462),o=n(67294),s=n(27192),a=n(11496),u=n(71657),l=n(15861),c=n(28979);function d(e){return(0,c.Z)("MuiDialogContentText",e)}(0,n(76087).Z)("MuiDialogContentText",["root"]);var p=n(85893);const m=["children"],f=(0,a.ZP)(l.Z,{shouldForwardProp:e=>(0,a.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var x=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDialogContentText"}),o=(0,r.Z)(n,m),a=(e=>{const{classes:t}=e,n=(0,s.Z)({root:["root"]},d,t);return(0,i.Z)({},t,n)})(o);return(0,p.jsx)(f,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o},n,{classes:a}))}))},37645:function(e,t,n){"use strict";var r=n(87462),i=n(63366),o=n(67294),s=n(86010),a=n(27192),u=n(15861),l=n(11496),c=n(71657),d=n(4472),p=n(34182),m=n(85893);const f=["className","id"],x=(0,l.ZP)(u.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),v=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:u,id:l}=n,v=(0,i.Z)(n,f),g=n,Z=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},d.a,t)})(g),{titleId:h=l}=o.useContext(p.Z);return(0,m.jsx)(x,(0,r.Z)({component:"h2",className:(0,s.Z)(Z.root,u),ownerState:g,ref:t,variant:"h6",id:h},v))}));t.Z=v},46160:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(65129))&&r.__esModule?r:{default:r}).default)("M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","DotsVertical");t.Z=i},29770:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course",function(){return n(39026)}])},39026:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(85893),i=n(63366),o=n(87462),s=n(67294),a=n(86010),u=n(27192),l=n(59773),c=n(11496),d=n(71657),p=n(28979);function m(e){return(0,p.Z)("MuiListItemAvatar",e)}(0,n(76087).Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);const f=["className"],x=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((({ownerState:e})=>(0,o.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})));var v=s.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),{className:c}=n,p=(0,i.Z)(n,f),v=s.useContext(l.Z),g=(0,o.Z)({},n,{alignItems:v.alignItems}),Z=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,u.Z)(r,m,n)})(g);return(0,r.jsx)(x,(0,o.Z)({className:(0,a.Z)(Z.root,c),ownerState:g,ref:t},p))})),g=n(15861),Z=n(26336);const h=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],y=(0,c.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Z.Z.primary}`]:t.primary},{[`& .${Z.Z.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((({ownerState:e})=>(0,o.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})));var b=s.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiListItemText"}),{children:c,className:p,disableTypography:m=!1,inset:f=!1,primary:x,primaryTypographyProps:v,secondary:b,secondaryTypographyProps:j}=n,I=(0,i.Z)(n,h),{dense:T}=s.useContext(l.Z);let C=null!=x?x:c,w=b;const S=(0,o.Z)({},n,{disableTypography:m,inset:f,primary:!!C,secondary:!!w,dense:T}),P=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,u.Z)(s,Z.L,t)})(S);return null==C||C.type===g.Z||m||(C=(0,r.jsx)(g.Z,(0,o.Z)({variant:T?"body2":"body1",className:P.primary,component:"span",display:"block"},v,{children:C}))),null==w||w.type===g.Z||m||(w=(0,r.jsx)(g.Z,(0,o.Z)({variant:"body2",className:P.secondary,color:"text.secondary",display:"block"},j,{children:w}))),(0,r.jsxs)(y,(0,o.Z)({className:(0,a.Z)(P.root,p),ownerState:S,ref:t},I,{children:[C,w]}))})),j=n(16628),I=n(93946),T=n(38333),C=n(18972),w=n(64666),S=n(6514),P=n(87357),A=n(78462),k=n(97212),O=n(69661),L=n(86886),_=n(66242),N=n(24156),D=n(10667),M=n(9473),R=n(18424),E=n(46160),z=n(3690),B=n(42734),V=n(89829),F=n(52909),W=n(32945),H=n(79635),U=n(68045);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=(0,s.forwardRef)((function(e,t){return(0,r.jsx)(j.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){X(e,t,n[t])}))}return e}({ref:t},e))})),J=function(e){var t=e.id,n=(0,s.useState)(null),i=n[0],o=n[1],a=(0,s.useState)(!1),u=a[0],l=a[1],c=(0,s.useState)(!1),d=c[0],p=c[1],m=(0,s.useState)(!1),f=m[0],x=m[1],Z=(0,s.useState)(!1),h=Z[0],y=Z[1],j=(0,s.useState)([]),L=j[0],_=j[1],N=(0,s.useState)([]),D=N[0],W=N[1],H=(0,s.useState)([]),X=H[0],J=H[1],K=(0,M.I0)(),Q=(0,M.v9)((function(e){return e.courses})),q=(0,M.v9)((function(e){return e.users})),G=(0,R.a)().token,Y=Boolean(i);(0,s.useEffect)((function(){K((0,F.aD)({token:G,course_id:t}))}),[K,t,G]),(0,s.useEffect)((function(){var e=X.map((function(e){return{value:e.id.toString(),label:e.name}}));W(e)}),[X]),(0,s.useEffect)((function(){var e=q.allUsers.map((function(e){return{value:e.id,label:e.name}}));e&&_(e)}),[q.allUsers]),(0,s.useEffect)((function(){var e=Q.usersAssignedToCourse.filter((function(e){return e.id===t}))[0];e&&J(e.users)}),[Q.usersAssignedToCourse,t]);var ee=function(){o(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{size:"small",onClick:function(e){o(e.currentTarget)},children:(0,r.jsx)(E.Z,{})}),(0,r.jsxs)(T.Z,{keepMounted:!0,anchorEl:i,open:Y,onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,r.jsxs)(C.Z,{onClick:function(){ee(),l(!0)},children:[(0,r.jsx)(z.Z,{fontSize:"small",sx:{mr:2}}),"Delete"]}),(0,r.jsxs)(C.Z,{onClick:function(){ee(),p(!0)},children:[(0,r.jsx)(z.Z,{fontSize:"small",sx:{mr:2}}),"List Associates"]}),(0,r.jsxs)(C.Z,{onClick:function(){ee(),x(!0)},children:[(0,r.jsx)(z.Z,{fontSize:"small",sx:{mr:2}}),"Assign Associate to Course"]}),(0,r.jsxs)(C.Z,{onClick:function(){ee(),y(!0)},children:[(0,r.jsx)(z.Z,{fontSize:"small",sx:{mr:2}}),"Remove Associate from Course"]}),(0,r.jsx)(U.Z,{dialogTitle:"Remove Associate from Course",isOpen:h,setIsOpen:y,onSubmit:function(e){var n=Object.values(e.input[0])[0];K((0,F.NB)({token:G,course_id:t,user_id:parseInt(n)}))},submitButtonText:"Remove",inputs:[{inputId:"associate-to-remove",inputType:"select",inputLabel:"Associate to Remove",inputLabelId:"associate-to-remove-label",menuItems:D,gridProps:{md:9}}]}),(0,r.jsx)(U.Z,{isOpen:f,setIsOpen:x,dialogTitle:"Assign Associate to Course",submitButtonText:"Assign",onSubmit:function(e){var n=Object.values(e.input[0])[0];K((0,F.JO)({token:G,course_id:t,user_id:parseInt(n)}))},inputs:[{inputId:"associate-to-assign",inputType:"select",inputLabel:"Associate To Assign",inputLabelId:"associate-to-assign-label",menuItems:L,gridProps:{md:9}}]}),(0,r.jsx)(V.Z,{agreeText:"Confirm",dialogText:"Confirm Detete This Course",dialogTitle:"Confirm Delete",disagreeText:"Cancel",isOpen:u,setOpen:l,setOnAgree:function(){K((0,F.A)({token:G,course_id:t}))}}),(0,r.jsx)(w.Z,{fullWidth:!0,open:d,maxWidth:"md",scroll:"body",onClose:function(){return p(!1)},TransitionComponent:$,onBackdropClick:function(){return p(!1)},children:(0,r.jsxs)(S.Z,{sx:{px:{xs:8,sm:15},py:{xs:8,sm:12.5},position:"relative"},children:[(0,r.jsx)(I.Z,{size:"small",onClick:function(){return p(!1)},sx:{position:"absolute",right:"1rem",top:"1rem"},children:(0,r.jsx)(B.Z,{})}),(0,r.jsx)(P.Z,{sx:{mb:4,textAlign:"center"},children:(0,r.jsx)(g.Z,{variant:"h5",sx:{mb:3},children:"Associate Assigned To This Course"})}),(0,r.jsx)(g.Z,{variant:"h6",children:"".concat(X.length," Associates")}),(0,r.jsx)(A.Z,{dense:!0,sx:{mb:3},children:X.map((function(e){return(0,r.jsxs)(k.ZP,{sx:{px:0,py:2,display:"flex",flexWrap:"wrap"},children:[(0,r.jsx)(v,{children:(0,r.jsx)(O.Z,{src:"/images/avatars/1.png",alt:e.name})}),(0,r.jsx)(b,{sx:{m:0},primary:e.name,secondary:e.email})]},e.name)}))})]})})]})]})},K=[{flex:.3,field:"name",headerName:"Course Name",renderCell:function(e){var t=e.row;return(0,r.jsx)(g.Z,{variant:"body2",children:t.name})}},{flex:.3,field:"price",headerName:"Course Price",renderCell:function(e){var t=e.row;return(0,r.jsxs)(g.Z,{variant:"body2",children:["AED ",t.price]})}},{flex:.3,field:"duration_in_hours",headerName:"Duration",renderCell:function(e){var t=e.row;return(0,r.jsxs)(g.Z,{variant:"body2",children:[t.duration_in_hours," Hours"]})}},{flex:.1,minWidth:90,sortable:!1,field:"actions",headerName:"Actions",renderCell:function(e){var t=e.row;return(0,r.jsx)(J,{id:t.id})}}];var Q=function(){var e=(0,s.useState)([]),t=e[0],n=e[1],i=(0,s.useState)(10),o=i[0],a=i[1],u=(0,s.useState)(""),l=u[0],c=u[1],d=(0,s.useState)(!1),p=d[0],m=d[1],f=(0,M.I0)(),x=(0,M.v9)((function(e){return e.courses})),v=(0,R.a)().token;return(0,s.useEffect)((function(){f((0,F.gS)({token:v})),f((0,H.Qc)({token:v}))}),[f,v]),(0,s.useEffect)((function(){var e=x.allCourses.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())||e.price.toString().toLowerCase().includes(l.toLowerCase())||e.duration_in_hours.toString().toLowerCase().includes(l.toLowerCase())}));n(e)}),[l,x.allCourses]),(0,r.jsxs)(L.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(L.ZP,{item:!0,xs:12}),(0,r.jsx)(L.ZP,{item:!0,xs:12,children:(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(D.Z,{exportFileName:"Courses",exportData:function(){var e=t.map((function(e){return{Name:e.name,Price:e.price,Duration:e.duration_in_hours}}));return e}(),handleFilter:function(e){c(e)},searchBoxText:"Search Courses",value:l,actionButtonText:"Create Course",actionButtonDrawerToggle:function(){m(!0)},actionButtonType:"drawer"}),(0,r.jsx)(N._,{autoHeight:!0,pagination:!0,rows:t,columns:K,disableSelectionOnClick:!0,pageSize:Number(o),rowsPerPageOptions:[10,25,50],onPageSizeChange:function(e){return a(e)}})]})}),(0,r.jsx)(W.Z,{drawerTitle:"New Course",isOpen:p,setIsOpen:m,onSubmit:function(e){var t=Object.values(e.input[0])[0],n=Object.values(e.input[1])[0],r=Object.values(e.input[2])[0];f((0,F.P6)({token:v,name:t,price:parseInt(n),duration_in_hours:parseInt(r)}))},submitButtonText:"Create",inputs:[{inputId:"course-name-input",inputLabel:"Course Name",inputLabelId:"course-name-input-label",inputType:"text",gridProps:{mb:6}},{inputId:"price-number",inputLabel:"Course Price",inputLabelId:"price-number-label",inputType:"number",gridProps:{mb:6}},{inputId:"course-duration-input",inputLabel:"Course Duration ( In Hours )",inputLabelId:"course-duration-input-label",inputType:"number",gridProps:{mb:6}}]})]})}},89829:function(e,t,n){"use strict";var r=n(85893),i=n(67294),o=n(44872),s=n(64666),a=n(37645),u=n(6514),l=n(31425),c=n(58951);t.Z=function(e){var t=e.dialogTitle,n=e.dialogText,d=e.disagreeText,p=e.agreeText,m=e.isOpen,f=e.setOpen,x=e.setOnAgree,v=function(){return f(!1)};return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(s.Z,{open:m,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",onClose:function(e,t){"backdropClick"!==t&&v()},children:[(0,r.jsx)(a.Z,{id:"alert-dialog-title",children:t}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(c.Z,{id:"alert-dialog-description",children:n})}),(0,r.jsxs)(l.Z,{className:"dialog-actions-dense",children:[(0,r.jsx)(o.Z,{onClick:v,children:d}),(0,r.jsx)(o.Z,{onClick:x,children:p})]})]})})}},32945:function(e,t,n){"use strict";var r=n(85893),i=n(77533),o=n(11496),s=n(15861),a=n(87357),u=n(42283),l=n(42734),c=n(48621),d=n(39673),p=n(40883),m=n(44872),f=(0,o.ZP)(a.Z)((function(e){var t=e.theme;return{display:"flex",alignItems:"center",padding:t.spacing(3,4),justifyContent:"space-between",backgroundColor:t.palette.background.default}}));t.Z=function(e){var t,n,o,x,v,g,Z=function(){var t={input:[]};return e.inputs.forEach((function(e){var n,r={};"select-multiple"===e.inputType?r[e.inputId]=[]:r[e.inputId]=null!==(n=e.defaultValue)&&void 0!==n?n:"";t.input.push(r)})),t}(),h=(0,u.cI)({defaultValues:Z,mode:"onChange"}),y=h.reset,b=h.control,j=h.handleSubmit,I=h.formState.errors,T=function(){e.setIsOpen(!1),y()},C=function(t){var n;return null===(n=e.inputs.find((function(e){return e.inputId===t})))||void 0===n?void 0:n.menuItems};return(0,r.jsxs)(i.ZP,{open:e.isOpen,anchor:"right",variant:"temporary",onClose:T,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(s.Z,{variant:"h6",children:e.drawerTitle}),(0,r.jsx)(l.Z,{fontSize:"small",onClick:T,sx:{cursor:"pointer"}})]}),(0,r.jsx)(a.Z,{sx:{p:5},children:(0,r.jsxs)("form",{onSubmit:j((function(t){e.setIsOpen(!1),y(),e.onSubmit(t)})),children:[e.inputs.map((function(e,i){var o,s;return"select"===e.inputType?(0,r.jsx)(d.Z,{defaultValue:e.defaultValue,name:"input.".concat(i,".").concat(e.inputId),label:e.inputLabel,labelId:e.inputLabelId,inputId:e.inputId,menuItems:null!==(t=C(e.inputId))&&void 0!==t?t:[],control:b,description:"".concat(e.inputId,"-description"),error:null===I||void 0===I||null===(o=I.input)||void 0===o||null===(s=o[i])||void 0===s?void 0:s[e.inputId],gridProps:null!==(n=e.gridProps)&&void 0!==n?n:{}},i):null})),e.inputs.map((function(e,t){var n,i;return"select-multiple"===e.inputType?(0,r.jsx)(d.Z,{multiple:!0,defaultValue:e.defaultValue,name:"input.".concat(t,".").concat(e.inputId),label:e.inputLabel,labelId:e.inputLabelId,inputId:e.inputId,menuItems:null!==(o=C(e.inputId))&&void 0!==o?o:[],control:b,description:"".concat(e.inputId,"-description"),error:null===I||void 0===I||null===(n=I.input)||void 0===n||null===(i=n[t])||void 0===i?void 0:i[e.inputId],gridProps:null!==(x=e.gridProps)&&void 0!==x?x:{}},t):null})),e.inputs.map((function(e,t){var n,i;return"text"===e.inputType||"textarea"==e.inputType||"number"==e.inputType||"email"==e.inputType?(0,r.jsx)(c.Z,{defaultValue:e.defaultValue,name:"input.".concat(t,".").concat(e.inputId),label:e.inputLabel,control:b,description:"".concat(e.inputId,"-description"),error:null===I||void 0===I||null===(n=I.input)||void 0===n||null===(i=n[t])||void 0===i?void 0:i[e.inputId],type:e.inputType,gridProps:null!==(v=e.gridProps)&&void 0!==v?v:{},rows:"textarea"===e.inputType?6:1,multiline:"textarea"===e.inputType,rules:e.rules},t):null})),e.inputs.map((function(e,t){var n,i;return"date"===e.inputType||"datetime"===e.inputType||"time"===e.inputType?(0,r.jsx)(p.Z,{defaultValue:e.defaultValue,name:"input.".concat(t,".").concat(e.inputId),label:e.inputLabel,control:b,type:e.inputType,description:"".concat(e.inputId,"-description"),error:null===I||void 0===I||null===(n=I.input)||void 0===n||null===(i=n[t])||void 0===i?void 0:i[e.inputId],gridProps:null!==(g=e.gridProps)&&void 0!==g?g:{},time:"datetime"===e.inputType},t):null})),(0,r.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(m.Z,{size:"large",type:"submit",variant:"contained",sx:{mr:3},children:e.submitButtonText}),(0,r.jsx)(m.Z,{size:"large",variant:"outlined",color:"secondary",onClick:T,children:"Cancel"})]})]})})]})}}},function(e){e.O(0,[806,912,283,285,915,695,774,888,179],(function(){return t=29770,e(e.s=t);var t}));var t=e.O();_N_E=t}]);