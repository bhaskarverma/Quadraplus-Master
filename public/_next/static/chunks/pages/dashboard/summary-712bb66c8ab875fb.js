(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{69839:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/summary",function(){return n(17257)}])},17257:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var o=n(34051),a=n.n(o),r=n(85893),i=n(86886),s=n(67294),l=n(66242),c=n(2734),u=n(78445),d=n(44267),h=n(5152),m=n.n(h)()((function(){return Promise.all([n.e(814),n.e(229)]).then(n.bind(n,47229))}),{loadableGenerated:{webpack:function(){return[47229]}},ssr:!1}),p=function(t){var e={chart:{parentHeightOffset:0,toolbar:{show:!1}},fill:{type:"gradient",gradient:{opacityTo:.2,opacityFrom:1,shadeIntensity:0,type:"horizontal",stops:[0,100,100]}},stroke:{width:5,curve:"smooth",lineCap:"round"},legend:{show:!1},colors:[(0,c.Z)().palette.success.main],grid:{show:!1,padding:{left:0,right:0,bottom:-10}},xaxis:{axisTicks:{show:!1},axisBorder:{show:!1},categories:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]},yaxis:{labels:{show:!1}}};return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Total Sales This Month",subheader:"AED ".concat(t.totalSales),subheaderTypographyProps:{sx:{mt:1,fontWeight:500,lineHeight:"2rem",color:"text.primary",fontSize:"1.25rem !important"}},titleTypographyProps:{sx:{fontSize:"1rem !important",fontWeight:"600 !important",lineHeight:"1.5rem !important",letterSpacing:"0.15px !important"}}}),(0,r.jsx)(d.Z,{sx:{"& .apexcharts-xaxis-label":{fontSize:"0.875rem"}},children:(0,r.jsx)(m,{type:"line",height:206,options:e,series:[{name:"Total Sales",data:t.salesData}]})})]})},x=n(87357),f=n(69661),g=n(15861),_=n(41638),b=n(23213);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){y(t,e,n[e])}))}return t}var v=function(t){var e=t.data;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Meeting Schedule"}),(0,r.jsx)(d.Z,{children:e.map((function(t,n){return(0,r.jsxs)(x.Z,{sx:j({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:[(0,r.jsx)(f.Z,{src:"/images/avatars/1.png",sx:{mr:3,width:38,height:38}}),(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(x.Z,{sx:{mr:2,display:"flex",mb:.4,flexDirection:"column"},children:[(0,r.jsx)(g.Z,{sx:{fontWeight:500,lineHeight:1.71,letterSpacing:"0.22px",fontSize:"0.875rem !important"},children:t.title}),(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(_.Z,{sx:{mr:1,fontSize:"0.875rem",color:"text.secondary",verticalAlign:"middle"}}),(0,r.jsx)(g.Z,{variant:"caption",children:t.date})]})]}),(0,r.jsx)(b.Z,{skin:"light",size:"small",label:t.type,color:t.color,sx:{height:20,mt:.4,fontSize:"0.75rem",fontWeight:600}})]})]},t.title)}))})]})},Z=n(55376),w=function(t){var e=(0,c.Z)(),n="#fff",o="#9e69fd",a="#ff9800",i=e.palette.text.primary,s=e.palette.action.focus,h=e.palette.action.focus,m={responsive:!0,backgroundColor:!1,maintainAspectRatio:!1,scales:{x:{ticks:{color:i},grid:{borderColor:s,color:h}},y:{scaleLabel:{display:!0},ticks:{stepSize:100,color:i},grid:{borderColor:s,color:h}}},plugins:{legend:{align:"end",position:"top",labels:{padding:25,boxWidth:10,color:i,usePointStyle:!0}}}},p={labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],datasets:[{fill:!1,tension:.5,pointRadius:1,label:"This Month",pointHoverRadius:5,pointStyle:"circle",borderColor:o,backgroundColor:o,pointHoverBorderWidth:5,pointHoverBorderColor:n,pointBorderColor:"transparent",pointHoverBackgroundColor:o,data:t.thisMonthData},{fill:!1,tension:.5,label:"Last Month",pointRadius:1,pointHoverRadius:5,pointStyle:"circle",borderColor:a,backgroundColor:a,pointHoverBorderWidth:5,pointHoverBorderColor:n,pointBorderColor:"transparent",pointHoverBackgroundColor:a,data:t.lastMonthData}]};return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Sales Comparison",titleTypographyProps:{variant:"h6"},subheader:"From Last Month",subheaderTypographyProps:{variant:"caption"}}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(Z.x1,{data:p,options:m,height:400})})]})},S=n(82753),P=n(98005);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){C(t,e,n[e])}))}return t}var k=function(t){var e=t.data,n=t.totalAmount,o=t.amountChangePercent,a=t.amountChangeDirection,i=t.totalAmountLastMonth,s=t.title;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:s,titleTypographyProps:{sx:{lineHeight:"1.6 !important",letterSpacing:"0.15px !important"}}}),(0,r.jsxs)(d.Z,{sx:{pt:function(t){return"".concat(t.spacing(2.25)," !important")}},children:[(0,r.jsxs)(x.Z,{sx:{mb:1.5,display:"flex",alignItems:"center"},children:[(0,r.jsxs)(g.Z,{variant:"h4",sx:{fontWeight:600,fontSize:"2.125rem !important"},children:["AED",n]}),"up"==a?(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",color:"success.main"},children:[(0,r.jsx)(S.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,r.jsx)(g.Z,{variant:"body2",sx:{fontWeight:600,color:"success.main"},children:o})]}):null,"down"==a?(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",color:"error.main"},children:[(0,r.jsx)(P.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,r.jsx)(g.Z,{variant:"body2",sx:{fontWeight:600,color:"error.main"},children:o})]}):null]}),(0,r.jsxs)(g.Z,{component:"p",variant:"caption",sx:{mb:10},children:["Compared to AED ",i," last month"]}),e.map((function(t,n){return(0,r.jsxs)(x.Z,{sx:O({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:[(0,r.jsx)(f.Z,{variant:"rounded",sx:{mr:3,width:40,height:40,backgroundColor:function(t){return"rgba(".concat(t.palette.customColors.main,", 0.04)")}},children:(0,r.jsx)("img",{src:"/images/avatars/1.png",alt:t.associate,height:40})}),(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(x.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,r.jsx)(g.Z,{variant:"body1",sx:{mb:.5,fontWeight:600,color:"text.primary"},children:t.associate})}),(0,r.jsx)(x.Z,{sx:{minWidth:85,display:"flex",flexDirection:"column"},children:(0,r.jsx)(g.Z,{variant:"body1",sx:{mb:2,fontWeight:600,color:"text.primary"},children:"AED ".concat(t.amount)})})]})]},t.associate)}))]})]})};function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){D(t,e,n[e])}))}return t}var T=function(t){var e=t.data;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Transactions This Month",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}}}),(0,r.jsx)(d.Z,{children:e.map((function(t,n){return(0,r.jsx)(x.Z,{sx:W({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(x.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,r.jsx)(g.Z,{sx:{mb:.25,fontWeight:600,fontSize:"0.875rem"},children:t.transaction_type})}),(0,r.jsx)(x.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(g.Z,{sx:{mr:1,fontWeight:600},children:"AED ".concat(t.amount)})})]})},n)}))})]})},A=(n(31877),n(18424)),M=n(96927);function E(t,e,n,o,a,r,i){try{var s=t[r](i),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(o,a)}var H=function(){var t,e=(t=a().mark((function t(e,n,o){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.Z)(e).get(n);case 2:r=t.sent.data,o(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){E(r,o,a,i,s,"next",t)}function s(t){E(r,o,a,i,s,"throw",t)}i(void 0)}))});return function(t,n,o){return e.apply(this,arguments)}}();var z=function(){var t=(0,A.a)().token,e=(0,s.useState)([]),n=e[0],o=e[1],a=(0,s.useState)([]),l=a[0],c=a[1],u=(0,s.useState)(0),d=u[0],h=u[1],m=(0,s.useState)([]),x=m[0],f=m[1],g=(0,s.useState)(0),_=g[0],b=g[1],y=(0,s.useState)(0),j=y[0],Z=y[1],S=(0,s.useState)("up"),P=S[0],C=S[1],O=(0,s.useState)("0%"),D=O[0],W=O[1],M=(0,s.useState)([]),E=M[0],z=M[1],I=(0,s.useState)(0),B=I[0],q=I[1],L=(0,s.useState)(0),N=L[0],R=L[1],F=(0,s.useState)("up"),X=F[0],G=F[1],J=(0,s.useState)("0%"),K=J[0],Q=J[1],U=(0,s.useState)([]),V=U[0],Y=U[1],$=(0,s.useState)([]),tt=$[0],et=$[1],nt=function(t){o(t.sales_data),h(t.total_sales)},ot=function(t){c(t.sales_data)},at=function(t){f(t.sales_overview_data),b(t.total_quoted_amount_this_month),Z(t.total_quoted_amount_last_month),C(t.total_quoted_amount_this_month>t.total_quoted_amount_last_month?"up":"down"),W(0==t.total_quoted_amount_last_month?"100%":"".concat(Math.abs((t.total_quoted_amount_this_month-t.total_quoted_amount_last_month)/t.total_quoted_amount_last_month*100).toFixed(2),"%"))},rt=function(t){z(t.collection_overview_data),q(t.total_collected_amount_this_month),R(t.total_collected_amount_last_month),G(t.total_collected_amount_this_month>t.total_collected_amount_last_month?"up":"down"),Q(0==t.total_collected_amount_this_month?"0%":0==t.total_collected_amount_last_month?"100%":"".concat(Math.abs((t.total_collected_amount_this_month-t.total_collected_amount_last_month)/t.total_collected_amount_last_month*100).toFixed(2),"%"))},it=function(t){Y(t)},st=function(t){et(t)};return(0,s.useEffect)((function(){H(t,"/dashboard/total-sales",nt),H(t,"/dashboard/total-sales-last-month",ot),H(t,"/dashboard/sales-overview",at),H(t,"/dashboard/collection-overview",rt),H(t,"/dashboard/meeting-schedule",it),H(t,"/dashboard/transaction-details",st)}),[t]),(0,r.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(p,{totalSales:d,salesData:n})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(k,{title:"Sales Overview",data:x,amountChangeDirection:P,amountChangePercent:D,totalAmount:_,totalAmountLastMonth:j})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(k,{title:"Collection Overview",data:E,amountChangeDirection:X,amountChangePercent:K,totalAmount:B,totalAmountLastMonth:N})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(v,{data:V})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(T,{data:tt})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(w,{lastMonthData:l,thisMonthData:n})})]})}}},function(t){t.O(0,[570,467,774,888,179],(function(){return e=69839,t(t.s=e);var e}));var e=t.O();_N_E=e}]);