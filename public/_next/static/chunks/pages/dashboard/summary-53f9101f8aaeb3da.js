(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{69839:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/summary",function(){return n(17257)}])},17257:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var o=n(34051),a=n.n(o),r=n(85893),i=n(86886),s=n(67294),l=n(66242),c=n(2734),u=n(78445),h=n(44267),d=n(5152),m=n.n(d)()((function(){return Promise.all([n.e(814),n.e(229)]).then(n.bind(n,47229))}),{loadableGenerated:{webpack:function(){return[47229]}},ssr:!1}),p=function(t){var e={chart:{parentHeightOffset:0,toolbar:{show:!1}},fill:{type:"gradient",gradient:{opacityTo:.2,opacityFrom:1,shadeIntensity:0,type:"horizontal",stops:[0,100,100]}},stroke:{width:5,curve:"smooth",lineCap:"round"},legend:{show:!1},colors:[(0,c.Z)().palette.success.main],grid:{show:!1,padding:{left:0,right:0,bottom:-10}},xaxis:{axisTicks:{show:!1},axisBorder:{show:!1},categories:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]},yaxis:{labels:{show:!1}}};return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Total Sales This Month",subheader:"AED ".concat(t.totalSales),subheaderTypographyProps:{sx:{mt:1,fontWeight:500,lineHeight:"2rem",color:"text.primary",fontSize:"1.25rem !important"}},titleTypographyProps:{sx:{fontSize:"1rem !important",fontWeight:"600 !important",lineHeight:"1.5rem !important",letterSpacing:"0.15px !important"}}}),(0,r.jsx)(h.Z,{sx:{"& .apexcharts-xaxis-label":{fontSize:"0.875rem"}},children:(0,r.jsx)(m,{type:"line",height:206,options:e,series:[{name:"Total Sales",data:t.salesData}]})})]})},x=n(87357),f=n(69661),_=n(15861),g=n(41638),b=n(23213);function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){j(t,e,n[e])}))}return t}var v=function(t){var e=t.data;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Meeting Schedule"}),(0,r.jsx)(h.Z,{children:e.map((function(t,n){return(0,r.jsxs)(x.Z,{sx:y({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:[(0,r.jsx)(f.Z,{src:"/images/avatars/1.png",sx:{mr:3,width:38,height:38}}),(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(x.Z,{sx:{mr:2,display:"flex",mb:.4,flexDirection:"column"},children:[(0,r.jsx)(_.Z,{sx:{fontWeight:500,lineHeight:1.71,letterSpacing:"0.22px",fontSize:"0.875rem !important"},children:t.title}),(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(g.Z,{sx:{mr:1,fontSize:"0.875rem",color:"text.secondary",verticalAlign:"middle"}}),(0,r.jsx)(_.Z,{variant:"caption",children:t.date})]})]}),(0,r.jsx)(b.Z,{skin:"light",size:"small",label:t.type,color:t.color,sx:{height:20,mt:.4,fontSize:"0.75rem",fontWeight:600}})]})]},t.title)}))})]})},Z=n(55376),w=function(t){var e=(0,c.Z)(),n="#fff",o="#9e69fd",a="#ff9800",i=e.palette.text.primary,s=e.palette.action.focus,d=e.palette.action.focus,m={responsive:!0,backgroundColor:!1,maintainAspectRatio:!1,scales:{x:{ticks:{color:i},grid:{borderColor:s,color:d}},y:{scaleLabel:{display:!0},ticks:{stepSize:100,color:i},grid:{borderColor:s,color:d}}},plugins:{legend:{align:"end",position:"top",labels:{padding:25,boxWidth:10,color:i,usePointStyle:!0}}}},p={labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],datasets:[{fill:!1,tension:.5,pointRadius:1,label:"This Month",pointHoverRadius:5,pointStyle:"circle",borderColor:o,backgroundColor:o,pointHoverBorderWidth:5,pointHoverBorderColor:n,pointBorderColor:"transparent",pointHoverBackgroundColor:o,data:t.thisMonthData},{fill:!1,tension:.5,label:"Last Month",pointRadius:1,pointHoverRadius:5,pointStyle:"circle",borderColor:a,backgroundColor:a,pointHoverBorderWidth:5,pointHoverBorderColor:n,pointBorderColor:"transparent",pointHoverBackgroundColor:a,data:t.lastMonthData}]};return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Sales Comparison",titleTypographyProps:{variant:"h6"},subheader:"From Last Month",subheaderTypographyProps:{variant:"caption"}}),(0,r.jsx)(h.Z,{children:(0,r.jsx)(Z.x1,{data:p,options:m,height:400})})]})},S=n(82753),P=n(98005);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){C(t,e,n[e])}))}return t}var D=function(t){var e=t.data,n=t.totalAmount,o=t.amountChangePercent,a=t.amountChangeDirection,i=t.totalAmountLastMonth,s=t.title;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:s,titleTypographyProps:{sx:{lineHeight:"1.6 !important",letterSpacing:"0.15px !important"}}}),(0,r.jsxs)(h.Z,{sx:{pt:function(t){return"".concat(t.spacing(2.25)," !important")}},children:[(0,r.jsxs)(x.Z,{sx:{mb:1.5,display:"flex",alignItems:"center"},children:[(0,r.jsxs)(_.Z,{variant:"h4",sx:{fontWeight:600,fontSize:"2.125rem !important"},children:["AED",n]}),"up"==a?(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",color:"success.main"},children:[(0,r.jsx)(S.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,r.jsx)(_.Z,{variant:"body2",sx:{fontWeight:600,color:"success.main"},children:o})]}):null,"down"==a?(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",color:"error.main"},children:[(0,r.jsx)(P.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,r.jsx)(_.Z,{variant:"body2",sx:{fontWeight:600,color:"error.main"},children:o})]}):null]}),(0,r.jsxs)(_.Z,{component:"p",variant:"caption",sx:{mb:10},children:["Compared to AED ",i," last month"]}),e.map((function(t,n){return(0,r.jsxs)(x.Z,{sx:O({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:[(0,r.jsx)(f.Z,{variant:"rounded",sx:{mr:3,width:40,height:40,backgroundColor:function(t){return"rgba(".concat(t.palette.customColors.main,", 0.04)")}},children:(0,r.jsx)("img",{src:"/images/avatars/1.png",alt:t.associate,height:40})}),(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(x.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,r.jsx)(_.Z,{variant:"body1",sx:{mb:.5,fontWeight:600,color:"text.primary"},children:t.associate})}),(0,r.jsx)(x.Z,{sx:{minWidth:85,display:"flex",flexDirection:"column"},children:(0,r.jsx)(_.Z,{variant:"body1",sx:{mb:2,fontWeight:600,color:"text.primary"},children:"AED ".concat(t.amount)})})]})]},t.associate)}))]})]})};function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){k(t,e,n[e])}))}return t}var A=function(t){var e=t.data;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u.Z,{title:"Transactions This Month",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}}}),(0,r.jsx)(h.Z,{children:e.map((function(t,n){return(0,r.jsx)(x.Z,{sx:W({display:"flex",alignItems:"center"},n!==e.length-1?{mb:6}:{}),children:(0,r.jsxs)(x.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(x.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,r.jsx)(_.Z,{sx:{mb:.25,fontWeight:600,fontSize:"0.875rem"},children:t.transaction_type})}),(0,r.jsx)(x.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(_.Z,{sx:{mr:1,fontWeight:600},children:"AED ".concat(t.amount)})})]})},n)}))})]})},M=(n(31877),n(18424)),T=n(96927);function E(t,e,n,o,a,r,i){try{var s=t[r](i),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(o,a)}var H=function(){var t,e=(t=a().mark((function t(e,n,o){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.Z)(e).get(n);case 2:r=t.sent.data,o(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){E(r,o,a,i,s,"next",t)}function s(t){E(r,o,a,i,s,"throw",t)}i(void 0)}))});return function(t,n,o){return e.apply(this,arguments)}}();var z=function(){var t=(0,M.a)().token,e=(0,s.useState)([]),n=e[0],o=e[1],a=(0,s.useState)([]),l=a[0],c=a[1],u=(0,s.useState)(0),h=u[0],d=u[1],m=(0,s.useState)([]),x=m[0],f=m[1],_=(0,s.useState)(0),g=_[0],b=_[1],j=(0,s.useState)(0),y=j[0],Z=j[1],S=(0,s.useState)("up"),P=S[0],C=S[1],O=(0,s.useState)("0%"),k=O[0],W=O[1],T=(0,s.useState)([]),E=T[0],z=T[1],I=(0,s.useState)([]),B=I[0],q=I[1],L=(0,s.useState)(0),R=L[0],F=L[1],N=(0,s.useState)(0),X=N[0],G=N[1],J=(0,s.useState)(0),K=J[0],Q=J[1],U=(0,s.useState)(0),V=U[0],Y=U[1],$=(0,s.useState)("up"),tt=$[0],et=$[1],nt=(0,s.useState)("up"),ot=nt[0],at=nt[1],rt=(0,s.useState)("0%"),it=rt[0],st=rt[1],lt=(0,s.useState)("0%"),ct=lt[0],ut=lt[1],ht=(0,s.useState)([]),dt=ht[0],mt=ht[1],pt=(0,s.useState)([]),xt=pt[0],ft=pt[1],_t=function(t){o(t.sales_data),d(t.total_sales)},gt=function(t){c(t.sales_data)},bt=function(t){f(t.sales_overview_data),b(t.total_quoted_amount_this_month),Z(t.total_quoted_amount_last_month),C(t.total_quoted_amount_this_month>t.total_quoted_amount_last_month?"up":"down"),W(0==t.total_quoted_amount_last_month?"100%":"".concat(Math.abs((t.total_quoted_amount_this_month-t.total_quoted_amount_last_month)/t.total_quoted_amount_last_month*100).toFixed(2),"%"))},jt=function(t){z(t.collection_overview_data),F(t.total_collected_amount_this_month),Q(t.total_collected_amount_last_month),et(t.total_collected_amount_this_month>t.total_collected_amount_last_month?"up":"down"),st(0==t.total_collected_amount_this_month?"0%":0==t.total_collected_amount_last_month?"100%":"".concat(Math.abs((t.total_collected_amount_this_month-t.total_collected_amount_last_month)/t.total_collected_amount_last_month*100).toFixed(2),"%"))},yt=function(t){q(t.referral_overview_data),G(t.total_referral_amount_this_month),Y(t.total_referral_amount_last_month),at(t.total_referral_amount_this_month>t.total_referral_amount_last_month?"up":"down"),ut(0==t.total_referral_amount_this_month?"0%":0==t.total_referral_amount_last_month?"100%":"".concat(Math.abs((t.total_referral_amount_this_month-t.total_referral_amount_last_month)/t.total_referral_amount_last_month*100).toFixed(2),"%"))},vt=function(t){mt(t)},Zt=function(t){ft(t)};return(0,s.useEffect)((function(){H(t,"/dashboard/total-sales",_t),H(t,"/dashboard/total-sales-last-month",gt),H(t,"/dashboard/sales-overview",bt),H(t,"/dashboard/collection-overview",jt),H(t,"/dashboard/referral-overview",yt),H(t,"/dashboard/meeting-schedule",vt),H(t,"/dashboard/transaction-details",Zt)}),[t]),(0,r.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(p,{totalSales:h,salesData:n})}),(0,r.jsx)(i.ZP,{item:!0,xs:4,children:(0,r.jsx)(D,{title:"Sales Overview",data:x,amountChangeDirection:P,amountChangePercent:k,totalAmount:g,totalAmountLastMonth:y})}),(0,r.jsx)(i.ZP,{item:!0,xs:4,children:(0,r.jsx)(D,{title:"Collection Overview",data:E,amountChangeDirection:tt,amountChangePercent:it,totalAmount:R,totalAmountLastMonth:K})}),(0,r.jsx)(i.ZP,{item:!0,xs:4,children:(0,r.jsx)(D,{title:"Referral Overview",data:B,amountChangeDirection:ot,amountChangePercent:ct,totalAmount:X,totalAmountLastMonth:V})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(v,{data:dt})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(A,{data:xt})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(w,{lastMonthData:l,thisMonthData:n})})]})}}},function(t){t.O(0,[570,467,774,888,179],(function(){return e=69839,t(t.s=e);var e}));var e=t.O();_N_E=e}]);