(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{69839:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/summary",function(){return a(21497)}])},21497:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return M}});var o=a(85893),n=a(79072),s=a(67294),l=a(61953),r=a(49837),i=a(44731),c=a(29630),d=a(59742),h=a(91359),m=a(41638),x=a(23213);let u=t=>{let{data:e}=t;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{title:"Meeting Schedule"}),(0,o.jsx)(h.Z,{children:e.map((t,a)=>(0,o.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",...a!==e.length-1?{mb:6}:{}},children:[(0,o.jsx)(i.Z,{src:"/images/avatars/1.png",sx:{mr:3,width:38,height:38}}),(0,o.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)(l.Z,{sx:{mr:2,display:"flex",mb:.4,flexDirection:"column"},children:[(0,o.jsx)(c.Z,{sx:{fontWeight:500,lineHeight:1.71,letterSpacing:"0.22px",fontSize:"0.875rem !important"},children:t.title}),(0,o.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(m.Z,{sx:{mr:1,fontSize:"0.875rem",color:"text.secondary",verticalAlign:"middle"}}),(0,o.jsx)(c.Z,{variant:"caption",children:t.date})]})]}),(0,o.jsx)(x.Z,{skin:"light",size:"small",label:t.type,color:t.color,sx:{height:20,mt:.4,fontSize:"0.75rem",fontWeight:600}})]})]},t.title))})]})};var _=a(55376),p=a(62097);let f=t=>{let e=(0,p.Z)(),a="#fff",n="#9e69fd",s="#ff9800",l=e.palette.text.primary,i=e.palette.action.focus,c=e.palette.action.focus,m={labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],datasets:[{fill:!1,tension:.5,pointRadius:1,label:"This Month",pointHoverRadius:5,pointStyle:"circle",borderColor:n,backgroundColor:n,pointHoverBorderWidth:5,pointHoverBorderColor:a,pointBorderColor:"transparent",pointHoverBackgroundColor:n,data:t.thisMonthData},{fill:!1,tension:.5,label:"Last Month",pointRadius:1,pointHoverRadius:5,pointStyle:"circle",borderColor:s,backgroundColor:s,pointHoverBorderWidth:5,pointHoverBorderColor:a,pointBorderColor:"transparent",pointHoverBackgroundColor:s,data:t.lastMonthData}]};return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{title:"Sales Comparison",titleTypographyProps:{variant:"h6"},subheader:"From Last Month",subheaderTypographyProps:{variant:"caption"}}),(0,o.jsx)(h.Z,{children:(0,o.jsx)(_.x1,{data:m,options:{responsive:!0,backgroundColor:!1,maintainAspectRatio:!1,scales:{x:{ticks:{color:l},grid:{borderColor:i,color:c}},y:{scaleLabel:{display:!0},ticks:{stepSize:100,color:l},grid:{borderColor:i,color:c}}},plugins:{legend:{align:"end",position:"top",labels:{padding:25,boxWidth:10,color:l,usePointStyle:!0}}}},height:400})})]})};var g=a(82753),j=a(98005);let Z=t=>{let{data:e,totalAmount:a,amountChangePercent:n,amountChangeDirection:s,totalAmountLastMonth:m,title:x}=t;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{title:x,titleTypographyProps:{sx:{lineHeight:"1.6 !important",letterSpacing:"0.15px !important"}}}),(0,o.jsxs)(h.Z,{sx:{pt:t=>"".concat(t.spacing(2.25)," !important")},children:[(0,o.jsxs)(l.Z,{sx:{mb:1.5,display:"flex",alignItems:"center"},children:[(0,o.jsxs)(c.Z,{variant:"h4",sx:{fontWeight:600,fontSize:"2.125rem !important"},children:["AED ",a]}),"up"==s?(0,o.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",color:"success.main"},children:[(0,o.jsx)(g.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,o.jsx)(c.Z,{variant:"body2",sx:{fontWeight:600,color:"success.main"},children:n})]}):null,"down"==s?(0,o.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",color:"error.main"},children:[(0,o.jsx)(j.Z,{sx:{fontSize:"1.875rem",verticalAlign:"middle"}}),(0,o.jsx)(c.Z,{variant:"body2",sx:{fontWeight:600,color:"error.main"},children:n})]}):null]}),(0,o.jsxs)(c.Z,{component:"p",variant:"caption",sx:{mb:10},children:["Compared to AED ",m," last month"]}),e.map((t,a)=>(0,o.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",...a!==e.length-1?{mb:6}:{}},children:[(0,o.jsx)(i.Z,{variant:"rounded",sx:{mr:3,width:40,height:40,backgroundColor:t=>"rgba(".concat(t.palette.customColors.main,", 0.04)")},children:(0,o.jsx)("img",{src:"/images/avatars/1.png",alt:t.associate,height:40})}),(0,o.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)(l.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,o.jsx)(c.Z,{variant:"body1",sx:{mb:.5,fontWeight:600,color:"text.primary"},children:t.associate})}),(0,o.jsx)(l.Z,{sx:{minWidth:85,display:"flex",flexDirection:"column"},children:(0,o.jsx)(c.Z,{variant:"body1",sx:{mb:2,fontWeight:600,color:"text.primary"},children:"AED ".concat(t.amount)})})]})]},t.associate))]})]})},b=t=>{let{data:e}=t;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{title:"Transactions This Month",titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important"}}}),(0,o.jsx)(h.Z,{children:e.map((t,a)=>(0,o.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",...a!==e.length-1?{mb:6}:{}},children:(0,o.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)(l.Z,{sx:{mr:2,display:"flex",flexDirection:"column"},children:(0,o.jsx)(c.Z,{sx:{mb:.25,fontWeight:600,fontSize:"0.875rem"},children:t.transaction_type})}),(0,o.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,o.jsx)(c.Z,{sx:{mr:1,fontWeight:600},children:"AED ".concat(t.amount)})})]})},a))})]})};a(29217);var v=a(18424),y=a(96927);let S=t=>new Intl.NumberFormat("en-IN",{style:"decimal"}).format(t),w=t=>{let e=(0,p.Z)(),{totalSales:a,salesData:n}=t,s=e.palette.divider,l=e.palette.text.disabled;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(d.Z,{title:"Total Sales: AED ".concat(S(a)),sx:{flexDirection:["column","row"],alignItems:["flex-start","center"],"& .MuiCardHeader-action":{mb:0},"& .MuiCardHeader-content":{mb:[2,0]}}}),(0,o.jsx)(h.Z,{children:(0,o.jsx)(_.$Q,{data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],datasets:[{maxBarThickness:15,backgroundColor:"#ffcf5c",borderColor:"transparent",borderRadius:{topRight:15,topLeft:15},data:n}]},height:300,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:500},scales:{x:{grid:{borderColor:s,drawBorder:!1,color:s},ticks:{color:l}},y:{min:0,max:5*Math.ceil(Math.max(...n)/5),grid:{borderColor:s,drawBorder:!1,color:s},ticks:{stepSize:1,color:l}}},plugins:{legend:{display:!1}}}})})]})},C=async(t,e,a)=>{let{data:o}=await (0,y.Z)(t).get(e);a(o)};var M=function(){let t=(0,v.a)(),e=t.token,[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(0),[h,m]=(0,s.useState)([]),[x,_]=(0,s.useState)(0),[p,g]=(0,s.useState)(0),[j,y]=(0,s.useState)("up"),[S,M]=(0,s.useState)("0%"),[k,D]=(0,s.useState)([]),[P,A]=(0,s.useState)([]),[W,I]=(0,s.useState)(0),[H,B]=(0,s.useState)(0),[E,T]=(0,s.useState)(0),[z,L]=(0,s.useState)(0),[R,q]=(0,s.useState)("up"),[N,F]=(0,s.useState)("up"),[O,X]=(0,s.useState)("0%"),[Q,$]=(0,s.useState)("0%"),[G,J]=(0,s.useState)([]),[K,U]=(0,s.useState)([]),V=t=>{l(t.sales_data),d(t.total_sales)},Y=t=>{i(t.sales_data)},tt=t=>{m(t.sales_overview_data),_(t.total_quoted_amount_this_month),g(t.total_quoted_amount_last_month),y(t.total_quoted_amount_this_month>t.total_quoted_amount_last_month?"up":"down"),M(0==t.total_quoted_amount_last_month?"100%":"".concat(Math.abs((t.total_quoted_amount_this_month-t.total_quoted_amount_last_month)/t.total_quoted_amount_last_month*100).toFixed(2),"%"))},te=t=>{D(t.collection_overview_data),I(t.total_collected_amount_this_month),T(t.total_collected_amount_last_month),q(t.total_collected_amount_this_month>t.total_collected_amount_last_month?"up":"down"),X(0==t.total_collected_amount_this_month?"0%":0==t.total_collected_amount_last_month?"100%":"".concat(Math.abs((t.total_collected_amount_this_month-t.total_collected_amount_last_month)/t.total_collected_amount_last_month*100).toFixed(2),"%"))},ta=t=>{A(t.referral_overview_data),B(t.total_referral_amount_this_month),L(t.total_referral_amount_last_month),F(t.total_referral_amount_this_month>t.total_referral_amount_last_month?"up":"down"),$(0==t.total_referral_amount_this_month?"0%":0==t.total_referral_amount_last_month?"100%":"".concat(Math.abs((t.total_referral_amount_this_month-t.total_referral_amount_last_month)/t.total_referral_amount_last_month*100).toFixed(2),"%"))},to=t=>{J(t)},tn=t=>{U(t)};return(0,s.useEffect)(()=>{C(e,"/dashboard/total-sales",V),C(e,"/dashboard/total-sales-last-month",Y),C(e,"/dashboard/sales-overview",tt),C(e,"/dashboard/collection-overview",te),C(e,"/dashboard/referral-overview",ta),C(e,"/dashboard/meeting-schedule",to),C(e,"/dashboard/transaction-details",tn)},[e]),(0,o.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,o.jsx)(n.ZP,{item:!0,xs:12,children:(0,o.jsx)(w,{totalSales:c,salesData:a})}),(0,o.jsx)(n.ZP,{item:!0,xs:4,children:(0,o.jsx)(Z,{title:"Sales Overview",data:h,amountChangeDirection:j,amountChangePercent:S,totalAmount:x.toLocaleString(),totalAmountLastMonth:p})}),(0,o.jsx)(n.ZP,{item:!0,xs:4,children:(0,o.jsx)(Z,{title:"Collection Overview",data:k,amountChangeDirection:R,amountChangePercent:O,totalAmount:W.toLocaleString(),totalAmountLastMonth:E})}),(0,o.jsx)(n.ZP,{item:!0,xs:4,children:(0,o.jsx)(Z,{title:"Referral Overview",data:P,amountChangeDirection:N,amountChangePercent:Q,totalAmount:H.toLocaleString(),totalAmountLastMonth:z})}),(0,o.jsx)(n.ZP,{item:!0,xs:6,children:(0,o.jsx)(u,{data:G})}),(0,o.jsx)(n.ZP,{item:!0,xs:6,children:(0,o.jsx)(b,{data:K})}),(0,o.jsx)(n.ZP,{item:!0,xs:12,children:(0,o.jsx)(f,{lastMonthData:r,thisMonthData:a})})]})}}},function(t){t.O(0,[757,31,774,888,179],function(){return t(t.s=69839)}),_N_E=t.O()}]);