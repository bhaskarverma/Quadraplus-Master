(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{78688:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/settings",function(){return s(3943)}])},3943:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return Y}});var r=s(85893),t=s(67294),i=s(87357),a=s(66242),o=s(66568),l=s(55050),d=s(45670),c=s(11496),u=s(40044),h=s(99642),x=s(41036),w=s(86886),m=s(50122),f=s(46901),j=s(18360),p=s(18972),Z=s(50135),v=s(15861),g=s(33841),P=s(92401),b=s(93946),y=s(44267),C=s(94054),N=s(44872),k=s(42734),S=s(18424);function W(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}var O=(0,c.ZP)("img")((function(e){var n=e.theme;return{width:120,height:120,marginRight:n.spacing(6.25),borderRadius:n.shape.borderRadius}})),_=(0,c.ZP)(N.Z)((function(e){return W({},e.theme.breakpoints.down("sm"),{width:"100%",textAlign:"center"})})),A=(0,c.ZP)(N.Z)((function(e){var n=e.theme;return W({marginLeft:n.spacing(4.5)},n.breakpoints.down("sm"),{width:"100%",marginLeft:0,textAlign:"center",marginTop:n.spacing(4)})})),D=function(){var e=(0,t.useState)(!1),n=e[0],s=e[1],a=(0,t.useState)("/images/avatars/1.png"),o=a[0],l=a[1],d=(0,S.a)().user;return(0,r.jsx)(y.Z,{children:(0,r.jsx)("form",{children:(0,r.jsxs)(w.ZP,{container:!0,spacing:7,children:[(0,r.jsx)(w.ZP,{item:!0,xs:12,sx:{mt:4.8,mb:3},children:(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(O,{src:o,alt:"Profile Pic"}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(_,{disabled:!0,component:"label",variant:"contained",htmlFor:"account-settings-upload-image",children:["Upload New Photo",(0,r.jsx)("input",{hidden:!0,type:"file",onChange:function(e){var n=new FileReader,s=e.target.files;s&&0!==s.length&&(n.onload=function(){return l(n.result)},n.readAsDataURL(s[0]))},accept:"image/png, image/jpeg",id:"account-settings-upload-image"})]}),(0,r.jsx)(A,{disabled:!0,color:"error",variant:"outlined",onClick:function(){return l("/images/avatars/1.png")},children:"Reset"}),(0,r.jsx)(v.Z,{variant:"body2",sx:{mt:5},children:"Allowed PNG or JPEG. Max size of 800K."})]})]})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(Z.Z,{fullWidth:!0,label:"Username",disabled:!0,placeholder:null===d||void 0===d?void 0:d.username,value:null===d||void 0===d?void 0:d.username})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(Z.Z,{fullWidth:!0,label:"Name",disabled:!0,placeholder:null===d||void 0===d?void 0:d.name,value:null===d||void 0===d?void 0:d.name})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(Z.Z,{fullWidth:!0,disabled:!0,type:"email",label:"Email",placeholder:null===d||void 0===d?void 0:d.email,value:null===d||void 0===d?void 0:d.email})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)(g.Z,{children:"Role"}),(0,r.jsxs)(j.Z,{disabled:!0,label:"Role",value:null===d||void 0===d?void 0:d.type,children:[(0,r.jsx)(p.Z,{value:"admin",children:"Admin"}),(0,r.jsx)(p.Z,{value:"associate",children:"Developer"})]})]})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)(g.Z,{children:"Status"}),(0,r.jsxs)(j.Z,{disabled:!0,label:"Status",defaultValue:"active",children:[(0,r.jsx)(p.Z,{value:"active",children:"Active"}),(0,r.jsx)(p.Z,{value:"inactive",children:"Inactive"})]})]})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(Z.Z,{disabled:!0,fullWidth:!0,label:"Company",placeholder:"QuadraPlus",value:"QuadraPlus"})}),n?(0,r.jsx)(w.ZP,{item:!0,xs:12,sx:{mb:3},children:(0,r.jsxs)(f.Z,{severity:"warning",sx:{"& a":{fontWeight:400}},action:(0,r.jsx)(b.Z,{size:"small",color:"inherit","aria-label":"close",onClick:function(){return s(!1)},children:(0,r.jsx)(k.Z,{fontSize:"inherit"})}),children:[(0,r.jsx)(P.Z,{children:"Your email is not confirmed. Please check your inbox."}),(0,r.jsx)(m.Z,{href:"/",onClick:function(e){return e.preventDefault()},children:"Resend Confirmation"})]})}):null,(0,r.jsxs)(w.ZP,{item:!0,xs:12,children:[(0,r.jsx)(N.Z,{disabled:!0,variant:"contained",sx:{mr:3.5},children:"Save Changes"}),(0,r.jsx)(N.Z,{disabled:!0,type:"reset",variant:"outlined",color:"secondary",children:"Reset"})]})]})})})},R=s(34051),E=s.n(R),I=s(67720),T=s(57709),z=s(87109),F=s(95898),L=s(74501),M=s(42218),U=s(86836),G=s(74931),Q=s(96927);function X(e,n,s,r,t,i,a){try{var o=e[i](a),l=o.value}catch(d){return void s(d)}o.done?n(l):Promise.resolve(l).then(r,t)}function q(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function B(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{},r=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),r.forEach((function(n){q(e,n,s[n])}))}return e}var H=function(){var e,n=(0,t.useState)({newPassword:"",currentPassword:"",showNewPassword:!1,confirmNewPassword:"",showCurrentPassword:!1,showConfirmNewPassword:!1}),s=n[0],a=n[1],o=(0,S.a)().token,l=function(){var e,n=(e=E().mark((function e(){var n,r,t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.newPassword,r=s.currentPassword,t=s.confirmNewPassword,n===t){e.next=4;break}return G.ZP.error("New password and confirm new password must match"),e.abrupt("return");case 4:(0,Q.Z)(o).post("/auth/passwordChange",{currentPassword:r,newPassword:n});case 5:case"end":return e.stop()}}),e)})),function(){var n=this,s=arguments;return new Promise((function(r,t){var i=e.apply(n,s);function a(e){X(i,r,t,a,o,"next",e)}function o(e){X(i,r,t,a,o,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("form",{children:[(0,r.jsx)(y.Z,{sx:{pb:0},children:(0,r.jsxs)(w.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(w.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(w.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(w.ZP,{item:!0,xs:12,sx:{mt:4.75},children:(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)(g.Z,{htmlFor:"account-settings-current-password",children:"Current Password"}),(0,r.jsx)(T.Z,{label:"Current Password",value:s.currentPassword,id:"account-settings-current-password",type:s.showCurrentPassword?"text":"password",onChange:(e="currentPassword",function(n){a(B({},s,q({},e,n.target.value)))}),endAdornment:(0,r.jsx)(z.Z,{position:"end",children:(0,r.jsx)(b.Z,{edge:"end","aria-label":"toggle password visibility",onClick:function(){a(B({},s,{showCurrentPassword:!s.showCurrentPassword}))},onMouseDown:function(e){e.preventDefault()},children:s.showCurrentPassword?(0,r.jsx)(F.Z,{}):(0,r.jsx)(M.Z,{})})})})]})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,sx:{mt:6},children:(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)(g.Z,{htmlFor:"account-settings-new-password",children:"New Password"}),(0,r.jsx)(T.Z,{label:"New Password",value:s.newPassword,id:"account-settings-new-password",onChange:function(e){return function(n){a(B({},s,q({},e,n.target.value)))}}("newPassword"),type:s.showNewPassword?"text":"password",endAdornment:(0,r.jsx)(z.Z,{position:"end",children:(0,r.jsx)(b.Z,{edge:"end",onClick:function(){a(B({},s,{showNewPassword:!s.showNewPassword}))},"aria-label":"toggle password visibility",onMouseDown:function(e){e.preventDefault()},children:s.showNewPassword?(0,r.jsx)(F.Z,{}):(0,r.jsx)(M.Z,{})})})})]})}),(0,r.jsx)(w.ZP,{item:!0,xs:12,children:(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)(g.Z,{htmlFor:"account-settings-confirm-new-password",children:"Confirm New Password"}),(0,r.jsx)(T.Z,{label:"Confirm New Password",value:s.confirmNewPassword,id:"account-settings-confirm-new-password",type:s.showConfirmNewPassword?"text":"password",onChange:function(e){return function(n){a(B({},s,q({},e,n.target.value)))}}("confirmNewPassword"),endAdornment:(0,r.jsx)(z.Z,{position:"end",children:(0,r.jsx)(b.Z,{edge:"end","aria-label":"toggle password visibility",onClick:function(){a(B({},s,{showConfirmNewPassword:!s.showConfirmNewPassword}))},onMouseDown:function(e){e.preventDefault()},children:s.showConfirmNewPassword?(0,r.jsx)(F.Z,{}):(0,r.jsx)(M.Z,{})})})})]})})]})}),(0,r.jsx)(w.ZP,{item:!0,sm:6,xs:12,sx:{display:"flex",mt:[7.5,2.5],alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("img",{width:183,alt:"avatar",height:256,src:"/images/pages/pose-m-1.png"})})]})}),(0,r.jsx)(I.Z,{sx:{mt:0,mb:1.75}}),(0,r.jsxs)(y.Z,{children:[(0,r.jsxs)(i.Z,{sx:{mb:5.75,display:"flex",alignItems:"center"},children:[(0,r.jsx)(L.Z,{sx:{mr:3}}),(0,r.jsx)(v.Z,{variant:"h6",children:"Two-factor authentication"})]}),(0,r.jsx)(i.Z,{sx:{mb:11,display:"flex",justifyContent:"center"},children:(0,r.jsxs)(i.Z,{sx:{maxWidth:368,display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(U.Z,{skin:"light",variant:"rounded",sx:{mb:3.5,width:48,height:48},children:(0,r.jsx)(x.Z,{sx:{fontSize:"1.75rem"}})}),(0,r.jsx)(v.Z,{sx:{fontWeight:600,mb:3.5},children:"Two factor authentication is not enabled yet."}),(0,r.jsx)(v.Z,{variant:"body2",children:"Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. Learn more."})]})}),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(N.Z,{onClick:l,variant:"contained",sx:{mr:3.5},children:"Save Changes"}),(0,r.jsx)(N.Z,{type:"reset",variant:"outlined",color:"secondary",onClick:function(){return a(B({},s,{currentPassword:"",newPassword:"",confirmNewPassword:""}))},children:"Reset"})]})]})]})};s(95828);function J(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}var K=(0,c.ZP)(u.Z)((function(e){var n,s=e.theme;return J(n={},s.breakpoints.down("md"),{minWidth:100}),J(n,s.breakpoints.down("sm"),{minWidth:67}),n})),V=(0,c.ZP)("span")((function(e){var n=e.theme;return J({lineHeight:1.71,fontSize:"0.875rem",marginLeft:n.spacing(2.4)},n.breakpoints.down("md"),{display:"none"})})),Y=function(){var e=(0,t.useState)("account"),n=e[0],s=e[1];return(0,r.jsx)(a.Z,{children:(0,r.jsxs)(d.ZP,{value:n,children:[(0,r.jsxs)(o.Z,{onChange:function(e,n){s(n)},"aria-label":"account-settings tabs",sx:{borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,r.jsx)(K,{value:"account",label:(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(V,{children:"Account"})]})}),(0,r.jsx)(K,{value:"security",label:(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(x.Z,{}),(0,r.jsx)(V,{children:"Security"})]})})]}),(0,r.jsx)(l.Z,{sx:{p:0},value:"account",children:(0,r.jsx)(D,{})}),(0,r.jsx)(l.Z,{sx:{p:0},value:"security",children:(0,r.jsx)(H,{})})]})})}}},function(e){e.O(0,[661,285,631,774,888,179],(function(){return n=78688,e(e.s=n);var n}));var n=e.O();_N_E=n}]);