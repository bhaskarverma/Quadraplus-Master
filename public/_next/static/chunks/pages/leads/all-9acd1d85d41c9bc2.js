(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{77745:function(e,l,t){"use strict";var n=t(87462),i=t(63366),r=t(67294),a=t(86010),o=t(94780),s=t(29630),d=t(67074),u=t(78884),c=t(32941),p=t(15156),v=t(85893);let x=["className","id"],m=e=>{let{classes:l}=e;return(0,o.Z)({root:["root"]},c.a,l)},h=(0,d.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,l)=>l.root})({padding:"16px 24px",flex:"0 0 auto"}),f=r.forwardRef(function(e,l){let t=(0,u.Z)({props:e,name:"MuiDialogTitle"}),{className:o,id:s}=t,d=(0,i.Z)(t,x),c=m(t),{titleId:f=s}=r.useContext(p.Z);return(0,v.jsx)(h,(0,n.Z)({component:"h2",className:(0,a.Z)(c.root,o),ownerState:t,ref:l,variant:"h6",id:f},d))});l.Z=f},46160:function(e,l,t){"use strict";l.Z=void 0;var n,i=(0,((n=t(65129))&&n.__esModule?n:{default:n}).default)("M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","DotsVertical");l.Z=i},801:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leads/all",function(){return t(12629)}])},12629:function(e,l,t){"use strict";t.r(l);var n=t(85893),i=t(67836),r=t(80562),a=t(73812),o=t(31538),s=t(29630),d=t(79072),u=t(49837),c=t(59742),p=t(91359),v=t(75084),x=t(62443),m=t(67294),h=t(10667),f=t(9473),j=t(99610),Z=t(79635),b=t(18424),C=t(68045),y=t(46160),g=t(3690),I=t(32912),T=t(45225),w=t(9198),_=t.n(w);t(95828);var P=t(86501);let L=(0,m.forwardRef)((e,l)=>{let t=null!==e.start?(0,I.default)(e.start,"yyyy/MM/dd"):"",r=null!==e.end?" - ".concat((0,I.default)(e.end,"yyyy/MM/dd")):null,a="".concat(t).concat(null!==r?r:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);let o={...e};return delete o.setDates,(0,n.jsx)(i.Z,{fullWidth:!0,inputRef:l,...o,label:e.label||"",value:a})}),S=e=>{let{id:l}=e,[t,i]=(0,m.useState)(null),s=(0,f.I0)(),d=(0,f.v9)(e=>e.users),u=(0,b.a)(),c=u.token,[p,v]=(0,m.useState)(!1),x=Boolean(t),h=d.allUsers.filter(e=>"associate"==e.type||"manager"==e.type||"admin"==e.type).map(e=>({value:e.id,label:e.name})),Z=e=>{let t=Object.values(e.input[0])[0];s((0,j.sB)({token:c,lead_id:l,assign_to:t}))},I=e=>{i(e.currentTarget)},T=()=>{i(null)},w=()=>{T(),v(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{size:"small",onClick:I,children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(a.Z,{keepMounted:!0,anchorEl:t,open:x,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:(0,n.jsxs)(o.Z,{onClick:w,children:[(0,n.jsx)(g.Z,{fontSize:"small",sx:{mr:2}}),"Assign"]})}),(0,n.jsx)(C.Z,{dialogTitle:"Assign Lead",isOpen:p,setIsOpen:v,onSubmit:Z,submitButtonText:"Assign",inputs:[{inputId:"associate",inputLabel:"Associate",inputType:"select",inputLabelId:"select-associate-label",gridProps:{md:6},menuItems:h}]})]})},N=[{flex:.1,field:"name",headerName:"Name",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.name),P.ZP.success("Text Copied Successfully")},children:l.name})}},{flex:.1,field:"contact_no",headerName:"Contact No",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.contact_no),P.ZP.success("Text Copied Successfully")},children:l.contact_no})}},{flex:.1,field:"email",headerName:"Email",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.email),P.ZP.success("Text Copied Successfully")},children:l.email})}},{flex:.1,field:"company",headerName:"Company",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.company),P.ZP.success("Text Copied Successfully")},children:l.company})}},{flex:.1,field:"course_name",headerName:"Course",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.course_name),P.ZP.success("Text Copied Successfully")},children:l.course_name})}},{flex:.1,field:"next_update",headerName:"Next Update",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.next_update})}},{flex:.1,field:"type",headerName:"Probability",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.type.toUpperCase()})}},{flex:.1,field:"assigned_to",headerName:"Assigned To",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.assigned_to_name})}},{flex:.1,minWidth:90,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:l}=e;return(0,n.jsx)(S,{id:l.id})}}];l.default=function(){let[e,l]=(0,m.useState)([]),[t,i]=(0,m.useState)(10),[r,a]=(0,m.useState)(""),[o,s]=(0,m.useState)(null),[C,y]=(0,m.useState)(null),[g,w]=(0,m.useState)([]),P=(0,f.I0)(),S=(0,f.v9)(e=>e.leads),A=(0,b.a)(),k=A.token,M=e=>{a(e)},D=e=>{let[l,t]=e;null!==l&&null!==t&&w(e),y(l),s(t)},O=()=>{if(C&&o){let e=(0,I.default)(C,"yyyy-MM-dd"),l=(0,I.default)(o,"yyyy-MM-dd");P((0,j.hF)({token:k,start_date:e,end_date:l}))}};return(0,m.useEffect)(()=>{P((0,Z.Qc)({token:k}))},[P,k]),(0,m.useEffect)(()=>{let e=S.allLeads.filter(e=>{var l,t,n,i,a,o,s,d,u,c,p,v,x,m;return(null===(t=null==e?void 0:null===(l=e.name)||void 0===l?void 0:l.toLowerCase())||void 0===t?void 0:t.includes(r.toLowerCase()))||(null===(i=null==e?void 0:null===(n=e.contact_no)||void 0===n?void 0:n.toLowerCase())||void 0===i?void 0:i.includes(r.toLowerCase()))||(null===(o=null==e?void 0:null===(a=e.email)||void 0===a?void 0:a.toLowerCase())||void 0===o?void 0:o.includes(r.toLowerCase()))||(null===(d=null==e?void 0:null===(s=e.company)||void 0===s?void 0:s.toLowerCase())||void 0===d?void 0:d.includes(r.toLowerCase()))||(null===(c=null==e?void 0:null===(u=e.course_name)||void 0===u?void 0:u.toLowerCase())||void 0===c?void 0:c.includes(r.toLowerCase()))||(null===(v=null==e?void 0:null===(p=e.assigned_to_name)||void 0===p?void 0:p.toLowerCase())||void 0===v?void 0:v.includes(r.toLowerCase()))||(null===(m=null==e?void 0:null===(x=e.type)||void 0===x?void 0:x.toLowerCase())||void 0===m?void 0:m.includes(r.toLowerCase()))});l(e)},[r,S.allLeads]),(0,n.jsxs)(d.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(c.Z,{title:"Filters"}),(0,n.jsx)(p.Z,{children:(0,n.jsxs)(d.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(T.Z,{children:(0,n.jsx)(_(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:o,selected:C,startDate:C,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:D,customInput:(0,n.jsx)(L,{dates:g,setDates:w,label:"Date Range",end:o,start:C})})})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(v.Z,{sx:{mb:2},onClick:O,variant:"contained",children:"Fetch Data"})})]})})]})}),(0,n.jsx)(d.ZP,{item:!0,xs:12}),(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(h.Z,{exportFileName:"Active Leads",exportData:(()=>{let l=e.map(e=>({Name:e.name,"Contact No":e.contact_no,Email:e.email,Company:e.company,Course:e.course_name,Type:e.type.toUpperCase()}));return l})(),handleFilter:M,searchBoxText:"Search Leads",value:r}),(0,n.jsx)(x._,{autoHeight:!0,pagination:!0,rows:e,columns:N,disableSelectionOnClick:!0,pageSize:Number(t),rowsPerPageOptions:[10,25,50],onPageSizeChange:e=>i(e)})]})})]})}},40883:function(e,l,t){"use strict";var n=t(85893),i=t(79072),r=t(67836),a=t(32631);t(67294);var o=t(87536),s=t(40328),d=t(79987),u=t(45459),c=t(52359),p=t(63719);l.Z=function(e){var l;return(0,n.jsxs)(i.ZP,{item:!0,...e.gridProps,children:[(0,n.jsx)(o.Qr,{name:e.name,control:e.control,defaultValue:e.defaultValue,rules:null!==(l=e.rules)&&void 0!==l?l:{required:!0},render(l){let{field:{value:t,onChange:i}}=l;return(0,n.jsx)(c._,{dateAdapter:p.H,children:e.type&&"time"===e.type?(0,n.jsx)(u.j,{label:e.label,value:t,onChange:i,renderInput:e=>(0,n.jsx)(r.Z,{sx:{width:"100%"},onChange:i,value:t,...e})}):e.time?(0,n.jsx)(d.x,{label:e.label,value:t,onChange:i,renderInput:e=>(0,n.jsx)(r.Z,{sx:{width:"100%"},onChange:i,value:t,...e})}):(0,n.jsx)(s.M,{label:e.label,value:t,onChange:i,renderInput:e=>(0,n.jsx)(r.Z,{sx:{width:"100%"},onChange:i,value:t,...e})})})}}),e.error&&(0,n.jsx)(a.Z,{sx:{mx:3.5,color:"error.main"},id:e.description,children:"This field is required"})]})}},68045:function(e,l,t){"use strict";var n=t(85893),i=t(67294),r=t(75084),a=t(29620),o=t(77745),s=t(95398),d=t(76779),u=t(79072),c=t(39673),p=t(87536),v=t(48621),x=t(40883);let m=e=>{var l,t,m,h,f;let j=(()=>{let l={input:[]};return e.inputs.forEach(e=>{let t={};"select"==e.inputType&&e.selectMultiple?t[e.inputId]=[]:t[e.inputId]="",l.input.push(t)}),l})(),{control:Z,handleSubmit:b,reset:C,formState:{errors:y}}=(0,p.cI)({defaultValues:j}),g=()=>{e.setIsOpen(!1),C()},I=l=>{e.setIsOpen(!1),C(),e.onSubmit(l)},T=()=>{};(0,i.useEffect)(()=>{e.setIsOpen(e.isOpen)},[e]);let w=l=>{var t;return null===(t=e.inputs.find(e=>e.inputId===l))||void 0===t?void 0:t.menuItems};return(0,n.jsx)("div",{children:(0,n.jsxs)(a.Z,{maxWidth:e.maxWidth,fullWidth:!0,open:e.isOpen,onClose:g,children:[(0,n.jsx)(o.Z,{children:e.dialogTitle}),(0,n.jsx)(s.Z,{children:(0,n.jsxs)(u.ZP,{container:!0,spacing:5,children:[e.inputs.map((e,i)=>{var r,a;return"select"===e.inputType?(0,n.jsx)(c.Z,{name:"input.".concat(i,".").concat(e.inputId),label:e.inputLabel,labelId:e.inputLabelId,inputId:e.inputId,menuItems:null!==(l=w(e.inputId))&&void 0!==l?l:[],control:Z,multiple:null!==(t=e.selectMultiple)&&void 0!==t&&t,description:"".concat(e.inputId,"-description"),error:null==y?void 0:null===(r=y.input)||void 0===r?void 0:null===(a=r[i])||void 0===a?void 0:a[e.inputId],gridProps:null!==(m=e.gridProps)&&void 0!==m?m:{}},i):null}),e.inputs.map((e,l)=>{var t,i;return"text"===e.inputType||"textarea"==e.inputType||"number"==e.inputType||"email"==e.inputType?(0,n.jsx)(v.Z,{name:"input.".concat(l,".").concat(e.inputId),label:e.inputLabel,control:Z,description:"".concat(e.inputId,"-description"),error:null==y?void 0:null===(t=y.input)||void 0===t?void 0:null===(i=t[l])||void 0===i?void 0:i[e.inputId],type:e.inputType,gridProps:null!==(h=e.gridProps)&&void 0!==h?h:{},rows:"textarea"===e.inputType?6:1,multiline:"textarea"===e.inputType},l):null}),e.inputs.map((e,l)=>{var t,i;return"date"===e.inputType||"datetime"===e.inputType?(0,n.jsx)(x.Z,{name:"input.".concat(l,".").concat(e.inputId),label:e.inputLabel,control:Z,description:"".concat(e.inputId,"-description"),error:null==y?void 0:null===(t=y.input)||void 0===t?void 0:null===(i=t[l])||void 0===i?void 0:i[e.inputId],gridProps:null!==(f=e.gridProps)&&void 0!==f?f:{},time:"datetime"===e.inputType},l):null})]})}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(r.Z,{onClick:g,variant:"outlined",children:"Cancel"}),(0,n.jsx)(r.Z,{onClick:b(I,T),variant:"outlined",children:e.submitButtonText})]})]})})};l.Z=m},39673:function(e,l,t){"use strict";var n=t(85893),i=t(31538),r=t(79072),a=t(55343),o=t(58316),s=t(53442),d=t(32631),u=t(87536);t(67294),l.Z=function(e){var l,t,c;let p=null===(l=e.menuItems)||void 0===l?void 0:l.map(e=>(0,n.jsx)(i.Z,{value:e.value,children:e.label},e.value));return(0,n.jsx)(r.ZP,{item:!0,...e.gridProps,children:(0,n.jsxs)(a.Z,{fullWidth:!0,children:[(0,n.jsx)(u.Qr,{name:e.name,control:e.control,defaultValue:e.defaultValue,rules:null!==(t=e.rules)&&void 0!==t?t:{required:!0},render(l){let{field:{value:t,onChange:i}}=l;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{id:e.labelId,children:e.label}),(0,n.jsx)(s.Z,{fullWidth:!0,value:t,id:e.inputId,label:e.label,onChange:i,error:Boolean(e.error),labelId:e.labelId,"aria-describedby":e.description,inputProps:{placeholder:"Select ".concat(e.label)},multiple:null!==(c=e.multiple)&&void 0!==c&&c,children:p})]})}}),e.error&&(0,n.jsx)(d.Z,{sx:{color:"error.main"},id:e.description,children:"This field is required"})]})})}},48621:function(e,l,t){"use strict";var n=t(85893),i=t(79072),r=t(55343),a=t(67836),o=t(32631);t(67294);var s=t(87536);let d=e=>{var l,t,d,u;return(0,n.jsx)(i.ZP,{item:!0,xs:12,...e.gridProps,children:(0,n.jsxs)(r.Z,{fullWidth:!0,children:[(0,n.jsx)(s.Qr,{name:e.name,control:e.control,defaultValue:e.defaultValue,rules:null!==(l=e.rules)&&void 0!==l?l:{required:!0},render(l){let{field:{value:i,onChange:r}}=l;return(0,n.jsx)(a.Z,{value:i,label:e.label,type:null!==(t=e.type)&&void 0!==t?t:"string",onChange:r,placeholder:e.label,error:Boolean(e.error),"aria-describedby":e.description,rows:null!==(d=e.rows)&&void 0!==d?d:1,multiline:null!==(u=e.multiline)&&void 0!==u&&u})}}),e.error&&(0,n.jsx)(o.Z,{sx:{color:"error.main"},id:e.description,children:"This field is required"})]})})};l.Z=d}},function(e){e.O(0,[891,842,661,536,215,292,962,286,774,888,179],function(){return e(e.s=801)}),_N_E=e.O()}]);