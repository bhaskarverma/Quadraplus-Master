(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{55618:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leads/assigned",function(){return t(56219)}])},56219:function(e,l,t){"use strict";t.r(l);var n=t(85893),a=t(67836),s=t(29630),i=t(79072),o=t(49837),d=t(59742),r=t(91359),u=t(75084),c=t(62443),v=t(67294),x=t(10667),m=t(9473),C=t(99610),h=t(18424),f=t(32912);t(95828);var p=t(45225),y=t(9198),w=t.n(y),b=t(86501);let j=(0,v.forwardRef)((e,l)=>{let t=null!==e.start?(0,f.default)(e.start,"yyyy/MM/dd"):"",s=null!==e.end?" - ".concat((0,f.default)(e.end,"yyyy/MM/dd")):null,i="".concat(t).concat(null!==s?s:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);let o={...e};return delete o.setDates,(0,n.jsx)(a.Z,{fullWidth:!0,inputRef:l,...o,label:e.label||"",value:i})}),_=[{flex:.1,field:"name",headerName:"Name",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.name),b.ZP.success("Text Copied Successfully")},children:l.name})}},{flex:.1,field:"contact_no",headerName:"Contact No",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.contact_no),b.ZP.success("Text Copied Successfully")},children:l.contact_no})}},{flex:.1,field:"email",headerName:"Email",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.email),b.ZP.success("Text Copied Successfully")},children:l.email})}},{flex:.1,field:"company",headerName:"Company",renderCell(e){let{row:l}=e;return(0,n.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(l.company),b.ZP.success("Text Copied Successfully")},children:l.company})}},{flex:.1,field:"course_name",headerName:"Course",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.course_name})}},{flex:.1,field:"next_update",headerName:"Next Update",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.next_update})}},{flex:.1,field:"status",headerName:"Status",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.status})}},{flex:.1,field:"type",headerName:"Probability",renderCell(e){let{row:l}=e;return(0,n.jsx)(s.Z,{variant:"body2",children:l.type.toUpperCase()})}}];l.default=function(){let[e,l]=(0,v.useState)([]),[t,a]=(0,v.useState)(10),[s,y]=(0,v.useState)(""),[b,Z]=(0,v.useState)(null),[g,N]=(0,v.useState)(null),[L,P]=(0,v.useState)([]),S=(0,m.I0)(),D=(0,m.v9)(e=>e.leads),k=(0,h.a)(),T=k.token,M=e=>{y(e)},E=e=>{let[l,t]=e;null!==l&&null!==t&&P(e),N(l),Z(t)},O=()=>{if(g&&b){let e=(0,f.default)(g,"yyyy-MM-dd"),l=(0,f.default)(b,"yyyy-MM-dd");S((0,C.bM)({token:T,start_date:e,end_date:l}))}};return(0,v.useEffect)(()=>{let e=D.allAssignedLeads.filter(e=>{var l,t,n,a,i,o,d,r,u,c,v,x,m,C;return(null===(t=null==e?void 0:null===(l=e.name)||void 0===l?void 0:l.toLowerCase())||void 0===t?void 0:t.includes(s.toLowerCase()))||(null===(a=null==e?void 0:null===(n=e.contact_no)||void 0===n?void 0:n.toLowerCase())||void 0===a?void 0:a.includes(s.toLowerCase()))||(null===(o=null==e?void 0:null===(i=e.email)||void 0===i?void 0:i.toLowerCase())||void 0===o?void 0:o.includes(s.toLowerCase()))||(null===(r=null==e?void 0:null===(d=e.company)||void 0===d?void 0:d.toLowerCase())||void 0===r?void 0:r.includes(s.toLowerCase()))||(null===(c=null==e?void 0:null===(u=e.course_name)||void 0===u?void 0:u.toLowerCase())||void 0===c?void 0:c.includes(s.toLowerCase()))||(null===(x=null==e?void 0:null===(v=e.type)||void 0===v?void 0:v.toLowerCase())||void 0===x?void 0:x.includes(s.toLowerCase()))||(null===(C=null==e?void 0:null===(m=e.status)||void 0===m?void 0:m.toLowerCase())||void 0===C?void 0:C.includes(s.toLowerCase()))});l(e)},[s,D.allAssignedLeads]),(0,n.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(d.Z,{title:"Filters"}),(0,n.jsx)(r.Z,{children:(0,n.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(p.Z,{children:(0,n.jsx)(w(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:b,selected:g,startDate:g,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:E,customInput:(0,n.jsx)(j,{dates:L,setDates:P,label:"Date Range",end:b,start:g})})})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(u.Z,{sx:{mb:2},onClick:O,variant:"contained",children:"Fetch Data"})})]})})]})}),(0,n.jsx)(i.ZP,{item:!0,xs:12}),(0,n.jsx)(i.ZP,{item:!0,xs:12,children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(x.Z,{exportFileName:"Active Leads",exportData:(()=>{let l=e.map(e=>({Name:e.name,"Contact No":e.contact_no,Email:e.email,Company:e.company,Course:e.course_name,Probability:e.type.toUpperCase()}));return l})(),handleFilter:M,searchBoxText:"Search Leads",value:s}),(0,n.jsx)(c._,{autoHeight:!0,pagination:!0,rows:e,columns:_,disableSelectionOnClick:!0,pageSize:Number(t),rowsPerPageOptions:[10,25,50],onPageSizeChange:e=>a(e)})]})})]})}}},function(e){e.O(0,[891,842,661,962,286,774,888,179],function(){return e(e.s=55618)}),_N_E=e.O()}]);