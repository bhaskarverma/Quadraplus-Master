(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{44642:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var l=n(63366),a=n(87462),o=n(67294),r=n(86010),i=n(94780),s=n(67074),u=n(78884),c=n(29630),d=n(1588),p=n(34867);function m(e){return(0,p.Z)("MuiDialogContentText",e)}(0,d.Z)("MuiDialogContentText",["root"]);var x=n(85893);let f=["children","className"],g=e=>{let{classes:t}=e,n=(0,i.Z)({root:["root"]},m,t);return(0,a.Z)({},t,n)},b=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),C=o.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiDialogContentText"}),{className:o}=n,i=(0,l.Z)(n,f),s=g(i);return(0,x.jsx)(b,(0,a.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:(0,r.Z)(s.root,o)},n,{classes:s}))});var h=C},77745:function(e,t,n){"use strict";var l=n(87462),a=n(63366),o=n(67294),r=n(86010),i=n(94780),s=n(29630),u=n(67074),c=n(78884),d=n(32941),p=n(15156),m=n(85893);let x=["className","id"],f=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},d.a,t)},g=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),b=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=n,u=(0,a.Z)(n,x),d=f(n),{titleId:b=s}=o.useContext(p.Z);return(0,m.jsx)(g,(0,l.Z)({component:"h2",className:(0,r.Z)(d.root,i),ownerState:n,ref:t,variant:"h6",id:b},u))});t.Z=b},46160:function(e,t,n){"use strict";t.Z=void 0;var l,a=(0,((l=n(65129))&&l.__esModule?l:{default:l}).default)("M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","DotsVertical");t.Z=a},97475:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leads/followup-today",function(){return n(7072)}])},15271:function(e,t,n){"use strict";n.d(t,{A4:function(){return a},Dm:function(){return o},Yd:function(){return u},_n:function(){return s}});let l=["January","February","March","April","May","June","July","August","September","October","November","December"],a=e=>{let t=e.split("-"),n=t[2],a=l[parseInt(t[1])-1],o=t[0];return"".concat(n," ").concat(a," ").concat(o)},o=e=>{let t=e.split("-"),n=t[2],a=l[parseInt(t[1])-1],o=t[0];return"".concat(n," ").concat(a," ").concat(o)},r=e=>new Date(e),i=e=>"0"!==e.charAt(0)&&1===e.length?"0"+e:e,s=e=>{let t=r(e),n=i(t.getDate().toString()),l=i((t.getMonth()+1).toString()),a=t.getFullYear().toString();return"".concat(a,"-").concat(l,"-").concat(n)},u=e=>{if(""==e)return"";let t=r(e),n=t.getFullYear()+"-"+i((t.getMonth()+1).toString())+"-"+i(t.getDate().toString())+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return n}},7072:function(e,t,n){"use strict";n.r(t);var l=n(85893),a=n(80562),o=n(73812),r=n(31538),i=n(29630),s=n(79072),u=n(49837),c=n(62443),d=n(67294),p=n(10667),m=n(9473),x=n(99610),f=n(18424),g=n(23213),b=n(46160),C=n(3690),h=n(68045),Z=n(15271),w=n(89829),v=n(86501);let y={GREEN:"success",ORANGE:"warning",RED:"error"},T=e=>{let{id:t}=e,[n,i]=(0,d.useState)(null),s=(0,m.I0)(),u=(0,f.a)(),c=u.token,[p,g]=(0,d.useState)(!1),[v,y]=(0,d.useState)(!1),[T,_]=(0,d.useState)(!1),[j,S]=(0,d.useState)(!1),L=Boolean(n),N=e=>{let n=Object.values(e.input[0])[0];s((0,x.XH)({token:c,lead_id:t,type:n}))},k=e=>{let n=Object.values(e.input[0])[0],l=Object.values(e.input[1])[0],a=(0,Z._n)(l);s((0,x._m)({token:c,lead_id:t,remarks:n,follow_up_date:a}))},P=e=>{let n=Object.values(e.input[0])[0],l=Object.values(e.input[1])[0];s((0,x.U6)({token:c,lead_id:t,status:n,closing_remark:l}))},O=e=>{i(e.currentTarget)},D=()=>{i(null)},I=()=>{s((0,x.ks)({token:c,lead_id:t}))},A=()=>{D(),g(!0)},M=()=>{D(),y(!0)},F=()=>{D(),_(!0)},U=()=>{D(),S(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{size:"small",onClick:O,children:(0,l.jsx)(b.Z,{})}),(0,l.jsxs)(o.Z,{keepMounted:!0,anchorEl:n,open:L,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,l.jsxs)(r.Z,{onClick:U,children:[(0,l.jsx)(C.Z,{fontSize:"small",sx:{mr:2}}),"Unassign Self"]}),(0,l.jsxs)(r.Z,{onClick:A,children:[(0,l.jsx)(C.Z,{fontSize:"small",sx:{mr:2}}),"Change Lead Probability"]}),(0,l.jsxs)(r.Z,{onClick:M,children:[(0,l.jsx)(C.Z,{fontSize:"small",sx:{mr:2}}),"Follow Up"]}),(0,l.jsxs)(r.Z,{onClick:F,children:[(0,l.jsx)(C.Z,{fontSize:"small",sx:{mr:2}}),"Close"]})]}),(0,l.jsx)(h.Z,{dialogTitle:"Update Lead Probability",isOpen:p,setIsOpen:g,onSubmit:N,submitButtonText:"Update",inputs:[{inputId:"type",inputLabel:"Probability",inputType:"select",inputLabelId:"type-label",gridProps:{md:6},menuItems:[{value:"high",label:"HIGH"},{value:"medium",label:"MEDIUM"},{value:"low",label:"LOW"}]}]}),(0,l.jsx)(h.Z,{dialogTitle:"Follow Up",isOpen:v,setIsOpen:y,onSubmit:k,submitButtonText:"Follow Up",inputs:[{inputId:"remarks",inputLabel:"Remarks",inputType:"textarea",inputLabelId:"remarks-label",gridProps:{md:6}},{inputId:"followup_date",inputLabel:"Follow Up Date",inputType:"date",inputLabelId:"followup_date-label",gridProps:{md:6}}]}),(0,l.jsx)(h.Z,{dialogTitle:"Close Lead",isOpen:T,setIsOpen:_,onSubmit:P,submitButtonText:"Close Lead",inputs:[{inputId:"status",inputLabel:"Status",inputType:"select",inputLabelId:"status-select",gridProps:{md:6},menuItems:[{value:"Converted",label:"Converted"},{value:"Failed",label:"Failed"}]},{inputId:"remarks",inputLabel:"Remarks",inputType:"textarea",inputLabelId:"remarks-label",gridProps:{md:6}}]}),(0,l.jsx)(w.Z,{agreeText:"Unassign",dialogText:"Confirm Unassign Self From The Lead",dialogTitle:"Confirm Unassign Self",disagreeText:"Cancel",isOpen:j,setOnAgree:I,setOpen:S})]})},_=[{flex:.1,field:"name",headerName:"Name",renderCell(e){let{row:t}=e;return(0,l.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(t.name),v.ZP.success("Text Copied Successfully")},children:t.name})}},{flex:.1,field:"contact_no",headerName:"Contact No",renderCell(e){let{row:t}=e;return(0,l.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(t.contact_no),v.ZP.success("Text Copied Successfully")},children:t.contact_no})}},{flex:.1,field:"email",headerName:"Email",renderCell(e){let{row:t}=e;return(0,l.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(t.email),v.ZP.success("Text Copied Successfully")},children:t.email})}},{flex:.1,field:"company",headerName:"Company",renderCell(e){let{row:t}=e;return(0,l.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(t.company),v.ZP.success("Text Copied Successfully")},children:t.company})}},{flex:.1,field:"course_name",headerName:"Course",renderCell(e){let{row:t}=e;return(0,l.jsx)("div",{onDoubleClick(){navigator.clipboard.writeText(t.course_name),v.ZP.success("Text Copied Successfully")},children:t.course_name})}},{flex:.1,field:"next_update",headerName:"Next Update",renderCell(e){let{row:t}=e;return(0,l.jsx)(i.Z,{variant:"body2",children:(0,Z.Dm)(t.next_update)})}},{flex:.1,field:"type",headerName:"Probability",renderCell(e){let{row:t}=e;return(0,l.jsx)(g.Z,{skin:"light",size:"small",label:t.type.toUpperCase(),color:y[t.type.toUpperCase()],sx:{textTransform:"capitalize"}})}},{flex:.1,minWidth:90,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:t}=e;return(0,l.jsx)(T,{id:t.id})}}];t.default=function(){let[e,t]=(0,d.useState)([]),[n,a]=(0,d.useState)(10),[o,r]=(0,d.useState)(""),i=(0,m.I0)(),g=(0,m.v9)(e=>e.leads),b=(0,f.a)(),C=b.token,h=e=>{r(e)};return(0,d.useEffect)(()=>{i((0,x.dN)({token:C}))},[i,C]),(0,d.useEffect)(()=>{if(g.followupLeads){let e=g.followupLeads.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.contact_no.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.company.toLowerCase().includes(o.toLowerCase())||e.course_name.toLowerCase().includes(o.toLowerCase()));t(e)}},[o,g.followupLeads]),(0,l.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,l.jsx)(s.ZP,{item:!0,xs:12}),(0,l.jsx)(s.ZP,{item:!0,xs:12,children:(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(p.Z,{exportFileName:"Followup Leads for Today",exportData:(()=>{let t=e.map(e=>({Name:e.name,"Contact No":e.contact_no,Email:e.email,Company:e.company,Course:e.course_name,Type:e.type.toUpperCase()}));return t})(),handleFilter:h,searchBoxText:"Search Leads",value:o}),(0,l.jsx)(c._,{autoHeight:!0,pagination:!0,rows:e,columns:_,disableSelectionOnClick:!0,pageSize:Number(n),rowsPerPageOptions:[10,25,50],onPageSizeChange:e=>a(e)})]})})]})}}},function(e){e.O(0,[891,536,215,686,981,774,888,179],function(){return e(e.s=97475)}),_N_E=e.O()}]);