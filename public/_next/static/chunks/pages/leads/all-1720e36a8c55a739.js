(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{37645:function(e,n,t){"use strict";var r=t(87462),o=t(63366),i=t(67294),a=t(86010),l=t(27192),s=t(15861),u=t(11496),c=t(71657),d=t(4472),f=t(34182),v=t(85893);const m=["className","id"],p=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),x=i.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:s,id:u}=t,x=(0,o.Z)(t,m),h=t,y=(e=>{const{classes:n}=e;return(0,l.Z)({root:["root"]},d.a,n)})(h),{titleId:C=u}=i.useContext(f.Z);return(0,v.jsx)(p,(0,r.Z)({component:"h2",className:(0,a.Z)(y.root,s),ownerState:h,ref:n,variant:"h6",id:C},x))}));n.Z=x},46160:function(e,n,t){"use strict";var r;n.Z=void 0;var o=(0,((r=t(65129))&&r.__esModule?r:{default:r}).default)("M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","DotsVertical");n.Z=o},801:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leads/all",function(){return t(12629)}])},12629:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(50135),i=t(93946),a=t(38333),l=t(18972),s=t(15861),u=t(86886),c=t(66242),d=t(78445),f=t(44267),v=t(44872),m=t(24156),p=t(67294),x=t(10667),h=t(9473),y=t(99610),C=t(79635),b=t(18424),g=t(68045),w=t(46160),Z=t(3690),j=t(32912),_=t(45225),S=t(9198),P=t.n(S),A=(t(95828),t(74931));function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){T(e,n,t[n])}))}return e}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=(0,p.forwardRef)((function(e,n){var t=null!==e.start?(0,j.Z)(e.start,"yyyy/MM/dd"):"",i=null!==e.end?" - ".concat((0,j.Z)(e.end,"yyyy/MM/dd")):null,a="".concat(t).concat(null!==i?i:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);var l=k({},e);return delete l.setDates,(0,r.jsx)(o.Z,k({fullWidth:!0,inputRef:n},l,{label:e.label||"",value:a}))})),D=function(e){var n=e.id,t=(0,p.useState)(null),o=t[0],s=t[1],u=(0,h.I0)(),c=(0,h.v9)((function(e){return e.users})),d=(0,b.a)().token,f=(0,p.useState)(!1),v=f[0],m=f[1],x=Boolean(o),C=c.allUsers.filter((function(e){return"associate"==e.type})).map((function(e){return{value:e.id,label:e.name}})),j=function(){s(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{size:"small",onClick:function(e){s(e.currentTarget)},children:(0,r.jsx)(w.Z,{})}),(0,r.jsx)(a.Z,{keepMounted:!0,anchorEl:o,open:x,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:(0,r.jsxs)(l.Z,{onClick:function(){j(),m(!0)},children:[(0,r.jsx)(Z.Z,{fontSize:"small",sx:{mr:2}}),"Assign"]})}),(0,r.jsx)(g.Z,{dialogTitle:"Assign Lead",isOpen:v,setIsOpen:m,onSubmit:function(e){var t=Object.values(e.input[0])[0];u((0,y.sB)({token:d,lead_id:n,assign_to:t}))},submitButtonText:"Assign",inputs:[{inputId:"associate",inputLabel:"Associate",inputType:"select",inputLabelId:"select-associate-label",gridProps:{md:6},menuItems:C}]})]})},M=[{flex:.1,field:"name",headerName:"Name",renderCell:function(e){var n=e.row;return(0,r.jsx)("div",{onDoubleClick:function(){navigator.clipboard.writeText(n.name),A.ZP.success("Text Copied Successfully")},children:n.name})}},{flex:.1,field:"contact_no",headerName:"Contact No",renderCell:function(e){var n=e.row;return(0,r.jsx)("div",{onDoubleClick:function(){navigator.clipboard.writeText(n.contact_no),A.ZP.success("Text Copied Successfully")},children:n.contact_no})}},{flex:.1,field:"email",headerName:"Email",renderCell:function(e){var n=e.row;return(0,r.jsx)("div",{onDoubleClick:function(){navigator.clipboard.writeText(n.email),A.ZP.success("Text Copied Successfully")},children:n.email})}},{flex:.1,field:"company",headerName:"Company",renderCell:function(e){var n=e.row;return(0,r.jsx)("div",{onDoubleClick:function(){navigator.clipboard.writeText(n.company),A.ZP.success("Text Copied Successfully")},children:n.company})}},{flex:.1,field:"course_name",headerName:"Course",renderCell:function(e){var n=e.row;return(0,r.jsx)("div",{onDoubleClick:function(){navigator.clipboard.writeText(n.course_name),A.ZP.success("Text Copied Successfully")},children:n.course_name})}},{flex:.1,field:"next_update",headerName:"Next Update",renderCell:function(e){var n=e.row;return(0,r.jsx)(s.Z,{variant:"body2",children:n.next_update})}},{flex:.1,field:"type",headerName:"Probability",renderCell:function(e){var n=e.row;return(0,r.jsx)(s.Z,{variant:"body2",children:n.type.toUpperCase()})}},{flex:.1,field:"assigned_to",headerName:"Assigned To",renderCell:function(e){var n=e.row;return(0,r.jsx)(s.Z,{variant:"body2",children:n.assigned_to_name})}},{flex:.1,minWidth:90,sortable:!1,field:"actions",headerName:"Actions",renderCell:function(e){var n=e.row;return(0,r.jsx)(D,{id:n.id})}}];n.default=function(){var e=(0,p.useState)([]),n=e[0],t=e[1],o=(0,p.useState)(10),i=o[0],a=o[1],l=(0,p.useState)(""),s=l[0],g=l[1],w=(0,p.useState)(null),Z=w[0],S=w[1],A=(0,p.useState)(null),N=A[0],T=A[1],k=(0,p.useState)([]),D=k[0],E=k[1],I=(0,h.I0)(),R=(0,h.v9)((function(e){return e.leads})),z=(0,b.a)().token;return(0,p.useEffect)((function(){I((0,C.Qc)({token:z}))}),[I,z]),(0,p.useEffect)((function(){var e=R.allLeads.filter((function(e){var n,t,r,o,i,a,l,u,c,d,f,v,m,p;return(null===(t=null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())||void 0===t?void 0:t.includes(s.toLowerCase()))||(null===(o=null===e||void 0===e||null===(r=e.contact_no)||void 0===r?void 0:r.toLowerCase())||void 0===o?void 0:o.includes(s.toLowerCase()))||(null===(a=null===e||void 0===e||null===(i=e.email)||void 0===i?void 0:i.toLowerCase())||void 0===a?void 0:a.includes(s.toLowerCase()))||(null===(u=null===e||void 0===e||null===(l=e.company)||void 0===l?void 0:l.toLowerCase())||void 0===u?void 0:u.includes(s.toLowerCase()))||(null===(d=null===e||void 0===e||null===(c=e.course_name)||void 0===c?void 0:c.toLowerCase())||void 0===d?void 0:d.includes(s.toLowerCase()))||(null===(v=null===e||void 0===e||null===(f=e.assigned_to_name)||void 0===f?void 0:f.toLowerCase())||void 0===v?void 0:v.includes(s.toLowerCase()))||(null===(p=null===e||void 0===e||null===(m=e.type)||void 0===m?void 0:m.toLowerCase())||void 0===p?void 0:p.includes(s.toLowerCase()))}));t(e)}),[s,R.allLeads]),(0,r.jsxs)(u.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(u.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,{title:"Filters"}),(0,r.jsx)(f.Z,{children:(0,r.jsxs)(u.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(_.Z,{children:(0,r.jsx)(P(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:Z,selected:N,startDate:N,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:function(e){var n=L(e,2),t=n[0],r=n[1];null!==t&&null!==r&&E(e),T(t),S(r)},customInput:(0,r.jsx)(O,{dates:D,setDates:E,label:"Date Range",end:Z,start:N})})})}),(0,r.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(v.Z,{sx:{mb:2},onClick:function(){if(N&&Z){var e=(0,j.Z)(N,"yyyy-MM-dd"),n=(0,j.Z)(Z,"yyyy-MM-dd");I((0,y.hF)({token:z,start_date:e,end_date:n}))}},variant:"contained",children:"Fetch Data"})})]})})]})}),(0,r.jsx)(u.ZP,{item:!0,xs:12}),(0,r.jsx)(u.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(x.Z,{exportFileName:"Active Leads",exportData:n.map((function(e){return{Name:e.name,"Contact No":e.contact_no,Email:e.email,Company:e.company,Course:e.course_name,Type:e.type.toUpperCase()}})),handleFilter:function(e){g(e)},searchBoxText:"Search Leads",value:s}),(0,r.jsx)(m._,{autoHeight:!0,pagination:!0,rows:n,columns:M,disableSelectionOnClick:!0,pageSize:Number(i),rowsPerPageOptions:[10,25,50],onPageSizeChange:function(e){return a(e)}})]})})]})}}},function(e){e.O(0,[806,912,661,283,285,915,963,695,774,888,179],(function(){return n=801,e(e.s=n);var n}));var n=e.O();_N_E=n}]);