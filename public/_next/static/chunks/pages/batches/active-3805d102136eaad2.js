(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{46160:function(e,t,n){"use strict";t.Z=void 0;var a,r=(0,((a=n(65129))&&a.__esModule?a:{default:a}).default)("M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z","DotsVertical");t.Z=r},45770:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/batches/active",function(){return n(26256)}])},4090:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});let a=e=>e.charAt(0).toUpperCase()+e.slice(1)},26256:function(e,t,n){"use strict";n.r(t);var a=n(85893),r=n(80562),i=n(73812),l=n(31538),o=n(29630),s=n(79072),c=n(49837),d=n(62443),u=n(67294),h=n(10667),x=n(9473),f=n(18424),m=n(46160),p=n(3690);n(95828);var j=n(4090),v=n(59232),Z=n(41664),_=n.n(Z);let C=e=>{let{id:t}=e,[n,o]=(0,u.useState)(null),s=Boolean(n),c=e=>{o(e.currentTarget)},d=()=>{o(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{size:"small",onClick:c,children:(0,a.jsx)(m.Z,{})}),(0,a.jsx)(i.Z,{keepMounted:!0,anchorEl:n,open:s,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:(0,a.jsx)(_(),{href:"/batches/attendance/".concat(t),children:(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(p.Z,{fontSize:"small",sx:{mr:2}}),"Mark Attendance"]})})})]})},b=[{flex:.1,field:"location",headerName:"Location",renderCell(e){let{row:t}=e;return(0,a.jsx)(o.Z,{variant:"body2",children:t.location})}},{flex:.1,field:"start_date",headerName:"Start Date",renderCell(e){let{row:t}=e;return(0,a.jsx)(o.Z,{variant:"body2",children:t.start_date})}},{flex:.1,field:"course_name",headerName:"Course",renderCell(e){let{row:t}=e;return(0,a.jsx)(o.Z,{variant:"body2",children:t.course_name})}},{flex:.1,field:"batch_type",headerName:"Batch Type",renderCell(e){let{row:t}=e;return(0,a.jsx)(o.Z,{variant:"body2",children:(0,j.f)(t.batch_type)})}},{flex:.1,minWidth:90,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:t}=e;return(0,a.jsx)(C,{id:t.id})}}];t.default=function(){let[e,t]=(0,u.useState)([]),[n,r]=(0,u.useState)(10),[i,l]=(0,u.useState)(""),o=(0,x.I0)(),m=(0,x.v9)(e=>e.batches),p=(0,f.a)(),j=p.token,Z=e=>{l(e)};return(0,u.useEffect)(()=>{o((0,v.cq)({token:j}))},[o,j]),(0,u.useEffect)(()=>{let e=m.activeBatches.filter(e=>e.location.toLowerCase().includes(i.toLowerCase())||e.course_name.toLowerCase().includes(i.toLowerCase())||e.batch_type);t(e)},[i,m.activeBatches]),(0,a.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(s.ZP,{item:!0,xs:12}),(0,a.jsx)(s.ZP,{item:!0,xs:12,children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(h.Z,{exportFileName:"All Batches",exportData:(()=>{let t=e.map(e=>({Location:e.location,"Start Date":e.start_date,Course:e.course_name}));return t})(),handleFilter:Z,searchBoxText:"Search Batches",value:i}),(0,a.jsx)(d._,{autoHeight:!0,pagination:!0,rows:e,columns:b,disableSelectionOnClick:!0,pageSize:Number(n),rowsPerPageOptions:[10,25,50],onPageSizeChange:e=>r(e)})]})})]})}},10667:function(e,t,n){"use strict";var a=n(85893),r=n(61953),i=n(75084),l=n(67836),o=n(83461),s=n(95534),c=n(41664),d=n.n(c),u=n(18424);let h=e=>{var t,n;let{handleFilter:c,value:h,actionButtonText:x,searchBoxText:f,actionButtonType:m}=e,p=()=>{},j=(0,u.a)(),v=null==j?void 0:null===(t=j.user)||void 0===t?void 0:t.type;return(0,a.jsxs)(r.Z,{sx:{p:5,pb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[e.exportFileName&&e.exportData&&"admin"==v&&(0,a.jsx)(o.CSVLink,{style:{textDecoration:"none"},data:e.exportData,filename:e.exportFileName,children:(0,a.jsx)(i.Z,{sx:{mr:4,mb:2},color:"secondary",variant:"outlined",onClick:p,startIcon:(0,a.jsx)(s.Z,{fontSize:"small"}),children:"Export"})}),(0,a.jsxs)(r.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,a.jsx)(l.Z,{size:"small",value:h,sx:{mr:4,mb:2},placeholder:f,onChange:e=>c(e.target.value)}),"link"===m?(0,a.jsx)(d(),{href:null!==(n=e.actionButtonLinkPath)&&void 0!==n?n:"#",children:(0,a.jsx)(i.Z,{sx:{mb:2},variant:"contained",children:x})}):"","drawer"===m?(0,a.jsx)(i.Z,{sx:{mb:2},onClick:e.actionButtonDrawerToggle,variant:"contained",children:x}):"","function"===m?(0,a.jsx)(i.Z,{sx:{mb:2},onClick:e.actionButtonFunction,variant:"contained",children:x}):""]})]})};t.Z=h},95828:function(){}},function(e){e.O(0,[891,661,774,888,179],function(){return e(e.s=45770)}),_N_E=e.O()}]);